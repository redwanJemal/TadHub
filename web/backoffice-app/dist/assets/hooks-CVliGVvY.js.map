{"version":3,"file":"hooks-CVliGVvY.js","sources":["../../../node_modules/.pnpm/lucide-react@0.460.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../../node_modules/.pnpm/lucide-react@0.460.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/circle-x.js","../../../node_modules/.pnpm/lucide-react@0.460.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/info.js","../../../node_modules/.pnpm/lucide-react@0.460.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/send.js","../../../node_modules/.pnpm/lucide-react@0.460.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/triangle-alert.js","../../src/features/notifications/api.ts","../../src/features/notifications/hooks.ts"],"sourcesContent":["/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheckBig = createLucideIcon(\"CircleCheckBig\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleX = createLucideIcon(\"CircleX\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TriangleAlert = createLucideIcon(\"TriangleAlert\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","import { apiClient } from '@/shared/api/client';\nimport { PaginatedData, QueryParams } from '@/shared/api/types';\nimport {\n  NotificationDto,\n  AdminSendNotificationRequest,\n  AdminSendNotificationResponse,\n  TenantNotificationSettings,\n  UpdateNotificationSettingsRequest,\n} from './types';\n\n/**\n * List all notifications across tenants (admin view)\n */\nexport async function listNotifications(\n  params?: QueryParams,\n): Promise<PaginatedData<NotificationDto>> {\n  return apiClient.get<PaginatedData<NotificationDto>>('/admin/notifications', params);\n}\n\n/**\n * Send notification to tenant members\n */\nexport async function sendNotification(\n  data: AdminSendNotificationRequest,\n): Promise<AdminSendNotificationResponse> {\n  return apiClient.post<AdminSendNotificationResponse>('/admin/notifications/send', data);\n}\n\n/**\n * Get tenant notification settings\n */\nexport async function getTenantNotificationSettings(\n  tenantId: string,\n): Promise<TenantNotificationSettings> {\n  return apiClient.get<TenantNotificationSettings>(\n    `/admin/notifications/tenants/${tenantId}/settings`,\n  );\n}\n\n/**\n * Update tenant notification settings\n */\nexport async function updateTenantNotificationSettings(\n  tenantId: string,\n  data: UpdateNotificationSettingsRequest,\n): Promise<{ updated: boolean }> {\n  return apiClient.put<{ updated: boolean }>(\n    `/admin/notifications/tenants/${tenantId}/settings`,\n    data,\n  );\n}\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { QueryParams } from '@/shared/api/types';\nimport {\n  listNotifications,\n  sendNotification,\n  getTenantNotificationSettings,\n  updateTenantNotificationSettings,\n} from './api';\nimport {\n  AdminSendNotificationRequest,\n  UpdateNotificationSettingsRequest,\n} from './types';\n\n// ============================================================================\n// Query Keys\n// ============================================================================\n\nexport const notificationKeys = {\n  all: ['admin-notifications'] as const,\n  lists: () => [...notificationKeys.all, 'list'] as const,\n  list: (params?: QueryParams) => [...notificationKeys.lists(), params] as const,\n  tenantSettings: (tenantId: string) =>\n    [...notificationKeys.all, 'tenant-settings', tenantId] as const,\n};\n\n// ============================================================================\n// Queries\n// ============================================================================\n\nexport function useAdminNotifications(params?: QueryParams) {\n  return useQuery({\n    queryKey: notificationKeys.list(params),\n    queryFn: () => listNotifications(params),\n  });\n}\n\nexport function useTenantNotificationSettings(tenantId: string) {\n  return useQuery({\n    queryKey: notificationKeys.tenantSettings(tenantId),\n    queryFn: () => getTenantNotificationSettings(tenantId),\n    enabled: !!tenantId,\n  });\n}\n\n// ============================================================================\n// Mutations\n// ============================================================================\n\nexport function useSendNotification() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: AdminSendNotificationRequest) => sendNotification(data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n    },\n    meta: {\n      successMessage: 'Notification sent successfully',\n    },\n  });\n}\n\nexport function useUpdateTenantNotificationSettings() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({\n      tenantId,\n      data,\n    }: {\n      tenantId: string;\n      data: UpdateNotificationSettingsRequest;\n    }) => updateTenantNotificationSettings(tenantId, data),\n    onSuccess: (_, { tenantId }) => {\n      queryClient.invalidateQueries({\n        queryKey: notificationKeys.tenantSettings(tenantId),\n      });\n    },\n    meta: {\n      successMessage: 'Notification settings updated successfully',\n    },\n  });\n}\n"],"names":["CircleCheckBig","createLucideIcon","CircleX","Info","Send","TriangleAlert","listNotifications","params","apiClient","sendNotification","data","notificationKeys","tenantId","useAdminNotifications","useQuery","useSendNotification","queryClient","useQueryClient","useMutation"],"mappings":"2GAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASK,MAACA,EAAiBC,EAAiB,iBAAkB,CACxD,CAAC,OAAQ,CAAE,EAAG,kCAAmC,IAAK,QAAQ,CAAE,EAChE,CAAC,OAAQ,CAAE,EAAG,iBAAkB,IAAK,QAAQ,CAAE,CACjD,CAAC,ECZD;AAAA;AAAA;AAAA;AAAA;AAAA,GASK,MAACC,EAAUD,EAAiB,UAAW,CAC1C,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,CAC3C,CAAC,ECbD;AAAA;AAAA;AAAA;AAAA;AAAA,GASK,MAACE,EAAOF,EAAiB,OAAQ,CACpC,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,CAC5C,CAAC,ECbD;AAAA;AAAA;AAAA;AAAA;AAAA,GASK,MAACG,EAAOH,EAAiB,OAAQ,CACpC,CACE,OACA,CACE,EAAG,kIACH,IAAK,QACX,CACA,EACE,CAAC,OAAQ,CAAE,EAAG,6BAA8B,IAAK,QAAQ,CAAE,CAC7D,CAAC,EClBD;AAAA;AAAA;AAAA;AAAA;AAAA,GASK,MAACI,EAAgBJ,EAAiB,gBAAiB,CACtD,CACE,OACA,CACE,EAAG,2EACH,IAAK,QACX,CACA,EACE,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,aAAc,IAAK,QAAQ,CAAE,CAC7C,CAAC,ECND,eAAsBK,EACpBC,EACyC,CACzC,OAAOC,EAAU,IAAoC,uBAAwBD,CAAM,CACrF,CAKA,eAAsBE,EACpBC,EACwC,CACxC,OAAOF,EAAU,KAAoC,4BAA6BE,CAAI,CACxF,CCTO,MAAMC,EAAmB,CAC9B,IAAK,CAAC,qBAAqB,EAC3B,MAAO,IAAM,CAAC,GAAGA,EAAiB,IAAK,MAAM,EAC7C,KAAOJ,GAAyB,CAAC,GAAGI,EAAiB,MAAA,EAASJ,CAAM,EACpE,eAAiBK,GACf,CAAC,GAAGD,EAAiB,IAAK,kBAAmBC,CAAQ,CACzD,EAMO,SAASC,EAAsBN,EAAsB,CAC1D,OAAOO,EAAS,CACd,SAAUH,EAAiB,KAAKJ,CAAM,EACtC,QAAS,IAAMD,EAAkBC,CAAM,CAAA,CACxC,CACH,CAcO,SAASQ,GAAsB,CACpC,MAAMC,EAAcC,EAAA,EAEpB,OAAOC,EAAY,CACjB,WAAaR,GAAuCD,EAAiBC,CAAI,EACzE,UAAW,IAAM,CACfM,EAAY,kBAAkB,CAAE,SAAUL,EAAiB,MAAA,EAAS,CACtE,EACA,KAAM,CACJ,eAAgB,gCAAA,CAClB,CACD,CACH","x_google_ignoreList":[0,1,2,3,4]}