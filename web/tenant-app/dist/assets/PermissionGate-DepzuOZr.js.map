{"version":3,"file":"PermissionGate-DepzuOZr.js","sources":["../../src/shared/components/PermissionGate.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { usePermissions, type Permission } from '@/features/auth/hooks/usePermissions';\n\ninterface PermissionGateProps {\n  /** Single permission required */\n  permission?: Permission;\n  /** All of these permissions required */\n  allOf?: Permission[];\n  /** Any of these permissions required */\n  anyOf?: Permission[];\n  /** Content to render when authorized */\n  children: ReactNode;\n  /** Content to render when denied (default: null) */\n  fallback?: ReactNode;\n}\n\n/**\n * Conditionally renders children based on user permissions.\n * Returns null while permissions are loading (prevents flash).\n */\nexport function PermissionGate({\n  permission,\n  allOf,\n  anyOf,\n  children,\n  fallback = null,\n}: PermissionGateProps) {\n  const { hasPermission, hasAllPermissions, hasAnyPermission, isLoaded } = usePermissions();\n\n  if (!isLoaded) return null;\n\n  if (permission && !hasPermission(permission)) {\n    return <>{fallback}</>;\n  }\n\n  if (allOf && allOf.length > 0 && !hasAllPermissions(allOf)) {\n    return <>{fallback}</>;\n  }\n\n  if (anyOf && anyOf.length > 0 && !hasAnyPermission(anyOf)) {\n    return <>{fallback}</>;\n  }\n\n  return <>{children}</>;\n}\n"],"names":["PermissionGate","permission","allOf","anyOf","children","fallback","hasPermission","hasAllPermissions","hasAnyPermission","isLoaded","usePermissions"],"mappings":"+CAoBO,SAASA,EAAe,CAC7B,WAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,SAAAC,EAAW,IACb,EAAwB,CACtB,KAAM,CAAE,cAAAC,EAAe,kBAAAC,EAAmB,iBAAAC,EAAkB,SAAAC,CAAA,EAAaC,EAAA,EAEzE,OAAKD,EAEDR,GAAc,CAACK,EAAcL,CAAU,oBAC/B,SAAAI,CAAA,CAAS,EAGjBH,GAASA,EAAM,OAAS,GAAK,CAACK,EAAkBL,CAAK,oBAC7C,SAAAG,CAAA,CAAS,EAGjBF,GAASA,EAAM,OAAS,GAAK,CAACK,EAAiBL,CAAK,oBAC5C,SAAAE,CAAA,CAAS,oBAGX,SAAAD,EAAS,EAdG,IAexB"}