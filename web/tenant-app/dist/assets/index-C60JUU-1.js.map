{"version":3,"file":"index-C60JUU-1.js","sources":["../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-right-left.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/baby.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/book-open.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/briefcase.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/download.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/globe.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/graduation-cap.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/heart-pulse.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/map-pin.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/plane.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/printer.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/skull.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/stethoscope.js","../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/triangle-alert.js","../../src/features/workers/api.ts","../../src/features/workers/hooks.ts","../../src/features/workers/constants.ts","../../src/features/workers/components/WorkerStatusBadge.tsx","../../src/features/workers/components/WorkerStatusTransitionDialog.tsx","../../src/features/workers/pages/WorkersPage.tsx","../../src/features/workers/components/WorkerEditDialog.tsx","../../src/features/workers/pages/WorkerDetailPage.tsx","../../src/features/workers/pages/WorkerCvPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m16 3 4 4-4 4\", key: \"1x1c3m\" }],\n  [\"path\", { d: \"M20 7H4\", key: \"zbl0bi\" }],\n  [\"path\", { d: \"m8 21-4-4 4-4\", key: \"h9nckh\" }],\n  [\"path\", { d: \"M4 17h16\", key: \"g4d7ey\" }]\n];\nconst ArrowRightLeft = createLucideIcon(\"arrow-right-left\", __iconNode);\n\nexport { __iconNode, ArrowRightLeft as default };\n//# sourceMappingURL=arrow-right-left.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5\", key: \"1u7htd\" }],\n  [\"path\", { d: \"M15 12h.01\", key: \"1k8ypt\" }],\n  [\n    \"path\",\n    {\n      d: \"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1\",\n      key: \"11xh7x\"\n    }\n  ],\n  [\"path\", { d: \"M9 12h.01\", key: \"157uk2\" }]\n];\nconst Baby = createLucideIcon(\"baby\", __iconNode);\n\nexport { __iconNode, Baby as default };\n//# sourceMappingURL=baby.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 7v14\", key: \"1akyts\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\",\n      key: \"ruj8y\"\n    }\n  ]\n];\nconst BookOpen = createLucideIcon(\"book-open\", __iconNode);\n\nexport { __iconNode, BookOpen as default };\n//# sourceMappingURL=book-open.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\", key: \"jecpp\" }],\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"6\", rx: \"2\", key: \"i6l2r4\" }]\n];\nconst Briefcase = createLucideIcon(\"briefcase\", __iconNode);\n\nexport { __iconNode, Briefcase as default };\n//# sourceMappingURL=briefcase.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 15V3\", key: \"m9g1x1\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"path\", { d: \"m7 10 5 5 5-5\", key: \"brsn70\" }]\n];\nconst Download = createLucideIcon(\"download\", __iconNode);\n\nexport { __iconNode, Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\", key: \"13o1zl\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }]\n];\nconst Globe = createLucideIcon(\"globe\", __iconNode);\n\nexport { __iconNode, Globe as default };\n//# sourceMappingURL=globe.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z\",\n      key: \"j76jl0\"\n    }\n  ],\n  [\"path\", { d: \"M22 10v6\", key: \"1lu8f3\" }],\n  [\"path\", { d: \"M6 12.5V16a6 3 0 0 0 12 0v-3.5\", key: \"1r8lef\" }]\n];\nconst GraduationCap = createLucideIcon(\"graduation-cap\", __iconNode);\n\nexport { __iconNode, GraduationCap as default };\n//# sourceMappingURL=graduation-cap.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\",\n      key: \"c3ymky\"\n    }\n  ],\n  [\"path\", { d: \"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27\", key: \"1uw2ng\" }]\n];\nconst HeartPulse = createLucideIcon(\"heart-pulse\", __iconNode);\n\nexport { __iconNode, HeartPulse as default };\n//# sourceMappingURL=heart-pulse.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0\",\n      key: \"1r0f0z\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n];\nconst MapPin = createLucideIcon(\"map-pin\", __iconNode);\n\nexport { __iconNode, MapPin as default };\n//# sourceMappingURL=map-pin.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z\",\n      key: \"1v9wt8\"\n    }\n  ]\n];\nconst Plane = createLucideIcon(\"plane\", __iconNode);\n\nexport { __iconNode, Plane as default };\n//# sourceMappingURL=plane.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2\",\n      key: \"143wyd\"\n    }\n  ],\n  [\"path\", { d: \"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6\", key: \"1itne7\" }],\n  [\"rect\", { x: \"6\", y: \"14\", width: \"12\", height: \"8\", rx: \"1\", key: \"1ue0tg\" }]\n];\nconst Printer = createLucideIcon(\"printer\", __iconNode);\n\nexport { __iconNode, Printer as default };\n//# sourceMappingURL=printer.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12.5 17-.5-1-.5 1h1z\", key: \"3me087\" }],\n  [\n    \"path\",\n    {\n      d: \"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z\",\n      key: \"1o5pge\"\n    }\n  ],\n  [\"circle\", { cx: \"15\", cy: \"12\", r: \"1\", key: \"1tmaij\" }],\n  [\"circle\", { cx: \"9\", cy: \"12\", r: \"1\", key: \"1vctgf\" }]\n];\nconst Skull = createLucideIcon(\"skull\", __iconNode);\n\nexport { __iconNode, Skull as default };\n//# sourceMappingURL=skull.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M11 2v2\", key: \"1539x4\" }],\n  [\"path\", { d: \"M5 2v2\", key: \"1yf1q8\" }],\n  [\"path\", { d: \"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1\", key: \"rb5t3r\" }],\n  [\"path\", { d: \"M8 15a6 6 0 0 0 12 0v-3\", key: \"x18d4x\" }],\n  [\"circle\", { cx: \"20\", cy: \"10\", r: \"2\", key: \"ts1r5v\" }]\n];\nconst Stethoscope = createLucideIcon(\"stethoscope\", __iconNode);\n\nexport { __iconNode, Stethoscope as default };\n//# sourceMappingURL=stethoscope.js.map\n","/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n];\nconst TriangleAlert = createLucideIcon(\"triangle-alert\", __iconNode);\n\nexport { __iconNode, TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","import { apiClient, API_BASE } from '@/shared/api/client';\nimport { getTenantId, getAccessToken } from '@/features/auth/AuthProvider';\nimport type { QueryParams } from '@/shared/api/types/common';\nimport type {\n  WorkerDto,\n  WorkerListDto,\n  WorkerStatusHistoryDto,\n  UpdateWorkerRequest,\n  TransitionWorkerStatusRequest,\n  WorkerCvDto,\n} from './types';\n\nfunction tenantPath(path: string) {\n  const tenantId = getTenantId();\n  return `/tenants/${tenantId}${path}`;\n}\n\nexport function listWorkers(params?: QueryParams) {\n  return apiClient.getPaged<WorkerListDto>(tenantPath('/workers'), params);\n}\n\nexport function getWorker(id: string, params?: QueryParams) {\n  return apiClient.get<WorkerDto>(tenantPath(`/workers/${id}`), params);\n}\n\nexport function updateWorker(id: string, data: UpdateWorkerRequest) {\n  return apiClient.patch<WorkerDto>(tenantPath(`/workers/${id}`), data);\n}\n\nexport function transitionWorkerStatus(id: string, data: TransitionWorkerStatusRequest) {\n  return apiClient.post<WorkerDto>(tenantPath(`/workers/${id}/status`), data);\n}\n\nexport function getWorkerStatusHistory(id: string) {\n  return apiClient.get<WorkerStatusHistoryDto[]>(tenantPath(`/workers/${id}/status-history`));\n}\n\nexport function getWorkerCv(id: string) {\n  return apiClient.get<WorkerCvDto>(tenantPath(`/workers/${id}/cv`));\n}\n\nexport function deleteWorker(id: string) {\n  return apiClient.delete<void>(tenantPath(`/workers/${id}`));\n}\n\nexport async function downloadWorkerCvPdf(id: string): Promise<Blob> {\n  const token = getAccessToken();\n  const tenantId = getTenantId();\n  const url = `${API_BASE}/tenants/${tenantId}/workers/${id}/cv/pdf`;\n\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: {\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\n      ...(tenantId ? { 'X-Tenant-ID': tenantId } : {}),\n    },\n  });\n\n  if (!response.ok) {\n    throw new Error(`Failed to download PDF: ${response.status}`);\n  }\n\n  return response.blob();\n}\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport type { QueryParams } from '@/shared/api/types/common';\nimport * as api from './api';\nimport type {\n  UpdateWorkerRequest,\n  TransitionWorkerStatusRequest,\n} from './types';\n\nconst WORKERS_KEY = 'workers';\n\nexport function useWorkers(params?: QueryParams) {\n  return useQuery({\n    queryKey: [WORKERS_KEY, params],\n    queryFn: () => api.listWorkers({ ...params, include: 'supplier' }),\n  });\n}\n\nexport function useWorker(id: string) {\n  return useQuery({\n    queryKey: [WORKERS_KEY, id],\n    queryFn: () => api.getWorker(id, { include: 'statusHistory,supplier' }),\n    enabled: !!id,\n  });\n}\n\nexport function useWorkerStatusHistory(id: string) {\n  return useQuery({\n    queryKey: [WORKERS_KEY, id, 'status-history'],\n    queryFn: () => api.getWorkerStatusHistory(id),\n    enabled: !!id,\n  });\n}\n\nexport function useUpdateWorker() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: UpdateWorkerRequest }) =>\n      api.updateWorker(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [WORKERS_KEY] });\n    },\n  });\n}\n\nexport function useTransitionWorkerStatus() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: TransitionWorkerStatusRequest }) =>\n      api.transitionWorkerStatus(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [WORKERS_KEY] });\n    },\n  });\n}\n\nexport function useDeleteWorker() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (id: string) => api.deleteWorker(id),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [WORKERS_KEY] });\n    },\n  });\n}\n","import type { LucideIcon } from 'lucide-react';\nimport {\n  CheckCircle, Briefcase, XCircle, GraduationCap, Stethoscope,\n  Plane, BookOpen, UserCheck, Shield, RefreshCw, ArrowRightLeft,\n  HeartPulse, AlertTriangle, Baby, Home, Ban, Skull, Clock,\n  Globe, MapPin,\n} from 'lucide-react';\nimport type { WorkerStatus, WorkerLocation, WorkerSourceType, WorkerStatusCategory } from './types';\n\ntype BadgeVariant = 'default' | 'secondary' | 'destructive' | 'success' | 'warning' | 'outline';\n\ninterface StatusConfig {\n  variant: BadgeVariant;\n  icon: LucideIcon;\n  category: WorkerStatusCategory;\n}\n\nexport const STATUS_CONFIG: Record<WorkerStatus, StatusConfig> = {\n  // Pool\n  Available:        { variant: 'success',     icon: CheckCircle,    category: 'Pool' },\n  InTraining:       { variant: 'default',     icon: GraduationCap,  category: 'Pool' },\n  UnderMedicalTest: { variant: 'default',     icon: Stethoscope,    category: 'Pool' },\n  // Arrival\n  NewArrival:       { variant: 'default',     icon: Plane,          category: 'Arrival' },\n  // Placement\n  Booked:           { variant: 'default',     icon: BookOpen,       category: 'Placement' },\n  Hired:            { variant: 'default',     icon: UserCheck,      category: 'Placement' },\n  OnProbation:      { variant: 'warning',     icon: Shield,         category: 'Placement' },\n  Active:           { variant: 'success',     icon: Briefcase,      category: 'Placement' },\n  Renewed:          { variant: 'success',     icon: RefreshCw,      category: 'Placement' },\n  // Negative / Special\n  PendingReplacement: { variant: 'warning',   icon: Clock,          category: 'NegativeSpecial' },\n  Transferred:      { variant: 'secondary',   icon: ArrowRightLeft, category: 'NegativeSpecial' },\n  MedicallyUnfit:   { variant: 'destructive', icon: HeartPulse,     category: 'NegativeSpecial' },\n  Absconded:        { variant: 'destructive', icon: AlertTriangle,  category: 'NegativeSpecial' },\n  Terminated:       { variant: 'destructive', icon: XCircle,        category: 'NegativeSpecial' },\n  Pregnant:         { variant: 'warning',     icon: Baby,           category: 'NegativeSpecial' },\n  // Terminal\n  Repatriated:      { variant: 'secondary',   icon: Home,           category: 'Terminal' },\n  Deported:         { variant: 'destructive', icon: Ban,            category: 'Terminal' },\n  Deceased:         { variant: 'destructive', icon: Skull,          category: 'Terminal' },\n};\n\nexport const ALL_STATUSES: WorkerStatus[] = [\n  'Available', 'InTraining', 'UnderMedicalTest',\n  'NewArrival',\n  'Booked', 'Hired', 'OnProbation', 'Active', 'Renewed',\n  'PendingReplacement', 'Transferred', 'MedicallyUnfit', 'Absconded', 'Terminated', 'Pregnant',\n  'Repatriated', 'Deported', 'Deceased',\n];\n\nexport const ALL_LOCATIONS: WorkerLocation[] = ['Abroad', 'InCountry'];\n\nexport const ALL_SOURCE_TYPES: WorkerSourceType[] = ['Supplier', 'Local'];\n\n/** Allowed manual status transitions */\nexport const ALLOWED_TRANSITIONS: Partial<Record<WorkerStatus, WorkerStatus[]>> = {\n  Available:          ['Booked', 'UnderMedicalTest', 'InTraining', 'Absconded', 'Repatriated', 'Deceased'],\n  InTraining:         ['Available', 'UnderMedicalTest', 'Absconded', 'Repatriated', 'Deceased'],\n  UnderMedicalTest:   ['Available', 'MedicallyUnfit', 'Deceased'],\n  NewArrival:         ['Available', 'InTraining', 'UnderMedicalTest', 'MedicallyUnfit', 'Absconded', 'Repatriated', 'Deceased'],\n  Booked:             ['Hired', 'NewArrival', 'Available', 'Deceased'],\n  Hired:              ['OnProbation', 'Available', 'Deceased'],\n  OnProbation:        ['Active', 'PendingReplacement', 'Terminated', 'Absconded', 'Pregnant', 'Deceased'],\n  Active:             ['Renewed', 'PendingReplacement', 'Terminated', 'Absconded', 'Pregnant', 'Transferred', 'Deceased'],\n  Renewed:            ['Active', 'PendingReplacement', 'Terminated', 'Absconded', 'Pregnant', 'Transferred', 'Deceased'],\n  PendingReplacement: ['Available', 'Terminated', 'Repatriated', 'Deceased'],\n  Transferred:        ['Repatriated'],\n  MedicallyUnfit:     ['Repatriated', 'Available', 'Deceased'],\n  Absconded:          ['Terminated', 'Repatriated', 'Deported', 'Available', 'Deceased'],\n  Terminated:         ['Available', 'Repatriated', 'Transferred'],\n  Pregnant:           ['Active', 'Terminated', 'Repatriated', 'Deceased'],\n  // Terminal states have no transitions\n};\n\n/** Statuses that require a reason */\nexport const REASON_REQUIRED_STATUSES: WorkerStatus[] = [\n  'Terminated', 'Absconded', 'MedicallyUnfit', 'PendingReplacement',\n  'Transferred', 'Repatriated', 'Deported', 'Pregnant', 'Deceased',\n];\n\n/** Status category groupings */\nexport const STATUS_CATEGORIES: Record<WorkerStatusCategory, WorkerStatus[]> = {\n  Pool:            ['Available', 'InTraining', 'UnderMedicalTest'],\n  Arrival:         ['NewArrival'],\n  Placement:       ['Booked', 'Hired', 'OnProbation', 'Active', 'Renewed'],\n  NegativeSpecial: ['PendingReplacement', 'Transferred', 'MedicallyUnfit', 'Absconded', 'Terminated', 'Pregnant'],\n  Terminal:        ['Repatriated', 'Deported', 'Deceased'],\n};\n\ninterface LocationConfig {\n  variant: BadgeVariant;\n  icon: LucideIcon;\n}\n\nexport const LOCATION_CONFIG: Record<WorkerLocation, LocationConfig> = {\n  Abroad:    { variant: 'outline', icon: Globe },\n  InCountry: { variant: 'default', icon: MapPin },\n};\n","import { useTranslation } from 'react-i18next';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { STATUS_CONFIG } from '../constants';\nimport type { WorkerStatus } from '../types';\n\ninterface WorkerStatusBadgeProps {\n  status: WorkerStatus;\n}\n\nexport function WorkerStatusBadge({ status }: WorkerStatusBadgeProps) {\n  const { t } = useTranslation('workers');\n  const config = STATUS_CONFIG[status];\n\n  if (!config) {\n    return <Badge variant=\"outline\">{status}</Badge>;\n  }\n\n  const Icon = config.icon;\n\n  return (\n    <Badge variant={config.variant as any}>\n      <Icon className=\"me-1 h-3 w-3\" />\n      {t(`status.${status}`)}\n    </Badge>\n  );\n}\n","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/shared/components/ui/dialog';\nimport { Button } from '@/shared/components/ui/button';\nimport { Label } from '@/shared/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { ALLOWED_TRANSITIONS, REASON_REQUIRED_STATUSES } from '../constants';\nimport { WorkerStatusBadge } from './WorkerStatusBadge';\nimport { useTransitionWorkerStatus } from '../hooks';\nimport type { WorkerStatus } from '../types';\n\ninterface WorkerStatusTransitionDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  workerId: string;\n  currentStatus: WorkerStatus;\n}\n\nexport function WorkerStatusTransitionDialog({\n  open,\n  onOpenChange,\n  workerId,\n  currentStatus,\n}: WorkerStatusTransitionDialogProps) {\n  const { t } = useTranslation('workers');\n  const [targetStatus, setTargetStatus] = useState('');\n  const [reason, setReason] = useState('');\n  const [notes, setNotes] = useState('');\n  const transition = useTransitionWorkerStatus();\n\n  const needsReason = REASON_REQUIRED_STATUSES.includes(targetStatus as WorkerStatus);\n  const canSubmit = targetStatus && (!needsReason || reason.trim());\n\n  const availableStatuses = ALLOWED_TRANSITIONS[currentStatus] ?? [];\n\n  const handleSubmit = async () => {\n    if (!canSubmit) return;\n    await transition.mutateAsync({\n      id: workerId,\n      data: {\n        status: targetStatus,\n        reason: reason.trim() || undefined,\n        notes: notes.trim() || undefined,\n      },\n    });\n    setTargetStatus('');\n    setReason('');\n    setNotes('');\n    onOpenChange(false);\n  };\n\n  const handleOpenChange = (value: boolean) => {\n    if (!value) {\n      setTargetStatus('');\n      setReason('');\n      setNotes('');\n    }\n    onOpenChange(value);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={handleOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>{t('transition.title')}</DialogTitle>\n          <DialogDescription>{t('transition.description')}</DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <Label>{t('transition.currentStatus')}</Label>\n            <div><WorkerStatusBadge status={currentStatus} /></div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('transition.targetStatus')}</Label>\n            <Select value={targetStatus} onValueChange={setTargetStatus}>\n              <SelectTrigger>\n                <SelectValue placeholder={t('transition.targetStatusPlaceholder')} />\n              </SelectTrigger>\n              <SelectContent>\n                {availableStatuses.map((status) => (\n                  <SelectItem key={status} value={status}>\n                    <WorkerStatusBadge status={status} />\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>\n              {t('transition.reason')}\n              {needsReason && <span className=\"text-destructive\"> *</span>}\n            </Label>\n            <textarea\n              className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              placeholder={t('transition.reasonPlaceholder')}\n              value={reason}\n              onChange={(e) => setReason(e.target.value)}\n            />\n            {needsReason && !reason.trim() && (\n              <p className=\"text-sm text-destructive\">{t('transition.reasonRequired')}</p>\n            )}\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('transition.notes')}</Label>\n            <textarea\n              className=\"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              placeholder={t('transition.notesPlaceholder')}\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => handleOpenChange(false)}>\n            {t('common:cancel')}\n          </Button>\n          <Button onClick={handleSubmit} disabled={!canSubmit || transition.isPending}>\n            {transition.isPending ? t('transition.submitting') : t('transition.submit')}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { DataTableAdvanced, type Column, type Filter } from '@/shared/components/data-table/DataTableAdvanced';\nimport { Button } from '@/shared/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/shared/components/ui/dropdown-menu';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/shared/components/ui/alert-dialog';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { MoreHorizontal, Trash2, Eye, RefreshCw, FileText } from 'lucide-react';\nimport { useCountryRefs, getFlagEmoji } from '@/features/reference-data';\nimport { useWorkers, useDeleteWorker } from '../hooks';\nimport { WorkerStatusBadge } from '../components/WorkerStatusBadge';\nimport { WorkerStatusTransitionDialog } from '../components/WorkerStatusTransitionDialog';\nimport { ALL_STATUSES, ALL_SOURCE_TYPES, ALL_LOCATIONS, LOCATION_CONFIG } from '../constants';\nimport type { WorkerListDto } from '../types';\n\nexport function WorkersPage() {\n  const { t } = useTranslation('workers');\n  const navigate = useNavigate();\n\n  // Table state\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\n  const [statusFilter, setStatusFilter] = useState<string | undefined>();\n  const [locationFilter, setLocationFilter] = useState<string | undefined>();\n  const [sourceTypeFilter, setSourceTypeFilter] = useState<string | undefined>();\n\n  // Dialog state\n  const [deleteTarget, setDeleteTarget] = useState<WorkerListDto | null>(null);\n  const [transitionTarget, setTransitionTarget] = useState<WorkerListDto | null>(null);\n\n  // Data\n  const queryParams = useMemo(() => ({\n    page,\n    pageSize,\n    search: search || undefined,\n    sort: '-createdAt',\n    'filter[status]': statusFilter,\n    'filter[location]': locationFilter,\n    'filter[sourceType]': sourceTypeFilter,\n  }), [page, pageSize, search, statusFilter, locationFilter, sourceTypeFilter]);\n\n  const { data, isLoading, refetch } = useWorkers(queryParams);\n  const { data: countries } = useCountryRefs();\n  const deleteMutation = useDeleteWorker();\n\n  const getCountryName = (code?: string) => {\n    if (!code) return '—';\n    const country = countries?.find((c) => c.code === code);\n    return country?.nameEn ?? code;\n  };\n\n  const handleDelete = async () => {\n    if (!deleteTarget) return;\n    await deleteMutation.mutateAsync(deleteTarget.id);\n    setDeleteTarget(null);\n  };\n\n  const filters: Filter[] = [\n    {\n      key: 'status',\n      label: t('filters.status'),\n      options: ALL_STATUSES.map((s) => ({ label: t(`status.${s}`), value: s })),\n      value: statusFilter,\n    },\n    {\n      key: 'location',\n      label: t('filters.location'),\n      options: ALL_LOCATIONS.map((l) => ({ label: t(`location.${l}`), value: l })),\n      value: locationFilter,\n    },\n    {\n      key: 'sourceType',\n      label: t('filters.sourceType'),\n      options: ALL_SOURCE_TYPES.map((s) => ({ label: t(`sourceType.${s}`), value: s })),\n      value: sourceTypeFilter,\n    },\n  ];\n\n  const handleFilterChange = (key: string, value: string | undefined) => {\n    if (key === 'status') setStatusFilter(value);\n    if (key === 'location') setLocationFilter(value);\n    if (key === 'sourceType') setSourceTypeFilter(value);\n    setPage(1);\n  };\n\n  const columns: Column<WorkerListDto>[] = [\n    {\n      key: 'workerCode',\n      header: t('columns.workerCode'),\n      cell: (row) => (\n        <span className=\"font-mono text-sm\">{row.workerCode}</span>\n      ),\n    },\n    {\n      key: 'name',\n      header: t('columns.name'),\n      cell: (row) => (\n        <div className=\"flex items-center gap-2 min-w-0\">\n          {row.photoUrl ? (\n            <img src={row.photoUrl} alt=\"\" className=\"h-8 w-8 rounded-full object-cover border shrink-0\" />\n          ) : (\n            <div className=\"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-xs font-medium shrink-0\">\n              {row.fullNameEn.charAt(0)}\n            </div>\n          )}\n          <div className=\"min-w-0\">\n            <p className=\"font-medium truncate\">{row.fullNameEn}</p>\n            {row.fullNameAr && (\n              <p className=\"text-xs text-muted-foreground truncate\" dir=\"rtl\">\n                {row.fullNameAr}\n              </p>\n            )}\n          </div>\n        </div>\n      ),\n    },\n    {\n      key: 'nationality',\n      header: t('columns.nationality'),\n      cell: (row) => (\n        <div className=\"flex items-center gap-1.5\">\n          {row.nationality && (\n            <span className=\"text-lg leading-none\">{getFlagEmoji(row.nationality)}</span>\n          )}\n          <span>{getCountryName(row.nationality)}</span>\n        </div>\n      ),\n    },\n    {\n      key: 'supplier',\n      header: t('columns.supplier'),\n      cell: (row) => row.supplier?.name ?? '—',\n    },\n    {\n      key: 'jobCategory',\n      header: t('columns.jobCategory'),\n      cell: (row) => row.jobCategory?.name ?? '—',\n    },\n    {\n      key: 'status',\n      header: t('columns.status'),\n      cell: (row) => <WorkerStatusBadge status={row.status} />,\n    },\n    {\n      key: 'location',\n      header: t('columns.location'),\n      cell: (row) => {\n        const config = LOCATION_CONFIG[row.location];\n        const Icon = config?.icon;\n        return (\n          <Badge variant={config?.variant ?? 'outline'} className=\"gap-1\">\n            {Icon && <Icon className=\"h-3 w-3\" />}\n            {t(`location.${row.location}`)}\n          </Badge>\n        );\n      },\n    },\n    {\n      key: 'activatedAt',\n      header: t('columns.activatedAt'),\n      cell: (row) => row.activatedAt ? new Date(row.activatedAt).toLocaleDateString() : '—',\n    },\n    {\n      key: 'actions',\n      header: t('columns.actions'),\n      className: 'w-[70px]',\n      cell: (row) => (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem onClick={() => navigate(`/workers/${row.id}`)}>\n              <Eye className=\"me-2 h-4 w-4\" />\n              {t('actions.view')}\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => navigate(`/workers/${row.id}/cv`)}>\n              <FileText className=\"me-2 h-4 w-4\" />\n              {t('actions.viewCv')}\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => setTransitionTarget(row)}>\n              <RefreshCw className=\"me-2 h-4 w-4\" />\n              {t('actions.changeStatus')}\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem\n              className=\"text-destructive\"\n              onClick={() => setDeleteTarget(row)}\n            >\n              <Trash2 className=\"me-2 h-4 w-4\" />\n              {t('actions.delete')}\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      ),\n    },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold tracking-tight\">{t('title')}</h1>\n        <p className=\"text-muted-foreground\">{t('description')}</p>\n      </div>\n\n      <DataTableAdvanced\n        columns={columns}\n        data={data?.items ?? []}\n        isLoading={isLoading}\n        selectable\n        selectedIds={selectedIds}\n        onSelectionChange={setSelectedIds}\n        searchPlaceholder={t('searchPlaceholder')}\n        searchValue={search}\n        onSearchChange={(val) => {\n          setSearch(val);\n          setPage(1);\n        }}\n        filters={filters}\n        onFilterChange={handleFilterChange}\n        page={page}\n        totalPages={data?.totalPages}\n        total={data?.totalCount}\n        pageSize={pageSize}\n        onPageChange={setPage}\n        onPageSizeChange={setPageSize}\n        onRefresh={() => refetch()}\n        emptyVariant=\"default\"\n        emptyTitle={t('empty.title')}\n        emptyDescription={t('empty.description')}\n      />\n\n      {/* Status Transition Dialog */}\n      {transitionTarget && (\n        <WorkerStatusTransitionDialog\n          open={!!transitionTarget}\n          onOpenChange={(open) => { if (!open) setTransitionTarget(null); }}\n          workerId={transitionTarget.id}\n          currentStatus={transitionTarget.status}\n        />\n      )}\n\n      {/* Delete Confirmation */}\n      <AlertDialog open={!!deleteTarget} onOpenChange={() => setDeleteTarget(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('deleteDialog.title')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('deleteDialog.description')}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('deleteDialog.confirm')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/shared/components/ui/dialog';\nimport { Button } from '@/shared/components/ui/button';\nimport { Label } from '@/shared/components/ui/label';\nimport { Input } from '@/shared/components/ui/input';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { ALL_LOCATIONS } from '../constants';\nimport { useUpdateWorker } from '../hooks';\nimport type { WorkerDto, WorkerLocation } from '../types';\n\ninterface WorkerEditDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  worker: WorkerDto;\n}\n\nexport function WorkerEditDialog({ open, onOpenChange, worker }: WorkerEditDialogProps) {\n  const { t } = useTranslation('workers');\n  const updateMutation = useUpdateWorker();\n\n  const [location, setLocation] = useState<WorkerLocation>(worker.location);\n  const [procurementPaidAt, setProcurementPaidAt] = useState(worker.procurementPaidAt?.slice(0, 10) ?? '');\n  const [flightDate, setFlightDate] = useState(worker.flightDate?.slice(0, 10) ?? '');\n  const [arrivedAt, setArrivedAt] = useState(worker.arrivedAt?.slice(0, 10) ?? '');\n  const [notes, setNotes] = useState(worker.notes ?? '');\n\n  useEffect(() => {\n    setLocation(worker.location);\n    setProcurementPaidAt(worker.procurementPaidAt?.slice(0, 10) ?? '');\n    setFlightDate(worker.flightDate?.slice(0, 10) ?? '');\n    setArrivedAt(worker.arrivedAt?.slice(0, 10) ?? '');\n    setNotes(worker.notes ?? '');\n  }, [worker]);\n\n  const handleSubmit = async () => {\n    await updateMutation.mutateAsync({\n      id: worker.id,\n      data: {\n        location,\n        procurementPaidAt: procurementPaidAt || undefined,\n        flightDate: flightDate || undefined,\n        arrivedAt: arrivedAt || undefined,\n        notes: notes.trim() || undefined,\n      },\n    });\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>{t('editDialog.title')}</DialogTitle>\n          <DialogDescription>{worker.fullNameEn} ({worker.workerCode})</DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <Label>{t('editDialog.location')}</Label>\n            <Select value={location} onValueChange={(v) => setLocation(v as WorkerLocation)}>\n              <SelectTrigger>\n                <SelectValue placeholder={t('editDialog.locationPlaceholder')} />\n              </SelectTrigger>\n              <SelectContent>\n                {ALL_LOCATIONS.map((loc) => (\n                  <SelectItem key={loc} value={loc}>\n                    {t(`location.${loc}`)}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('editDialog.procurementPaidAt')}</Label>\n            <Input\n              type=\"date\"\n              value={procurementPaidAt}\n              onChange={(e) => setProcurementPaidAt(e.target.value)}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('editDialog.flightDate')}</Label>\n            <Input\n              type=\"date\"\n              value={flightDate}\n              onChange={(e) => setFlightDate(e.target.value)}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('editDialog.arrivedAt')}</Label>\n            <Input\n              type=\"date\"\n              value={arrivedAt}\n              onChange={(e) => setArrivedAt(e.target.value)}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('editDialog.notes')}</Label>\n            <textarea\n              className=\"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              placeholder={t('editDialog.notesPlaceholder')}\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            {t('common:cancel')}\n          </Button>\n          <Button onClick={handleSubmit} disabled={updateMutation.isPending}>\n            {updateMutation.isPending ? t('editDialog.submitting') : t('editDialog.submit')}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { ArrowLeft, RefreshCw, Trash2, FileText, ImageOff, VideoOff, Pencil } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/components/ui/card';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { Skeleton } from '@/shared/components/ui/skeleton';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/shared/components/ui/tabs';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/shared/components/ui/alert-dialog';\nimport { useCountryRefs, getFlagEmoji } from '@/features/reference-data';\nimport { useWorker, useDeleteWorker } from '../hooks';\nimport { WorkerStatusBadge } from '../components/WorkerStatusBadge';\nimport { WorkerStatusTransitionDialog } from '../components/WorkerStatusTransitionDialog';\nimport { WorkerEditDialog } from '../components/WorkerEditDialog';\nimport { ALLOWED_TRANSITIONS, LOCATION_CONFIG } from '../constants';\n\nfunction InfoItem({ label, value }: { label: string; value?: string | number | null }) {\n  return (\n    <div>\n      <p className=\"text-sm text-muted-foreground\">{label}</p>\n      <p className=\"font-medium\">{value != null && value !== '' ? String(value) : '—'}</p>\n    </div>\n  );\n}\n\nfunction DetailSkeleton() {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <Skeleton className=\"h-4 w-32 mb-4\" />\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <Skeleton className=\"h-8 w-64\" />\n            <Skeleton className=\"h-6 w-24\" />\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-9 w-32\" />\n            <Skeleton className=\"h-9 w-32\" />\n          </div>\n        </div>\n      </div>\n      <Skeleton className=\"h-10 w-96\" />\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        {Array.from({ length: 4 }).map((_, i) => (\n          <Card key={i}>\n            <CardHeader><Skeleton className=\"h-6 w-40\" /></CardHeader>\n            <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n              {Array.from({ length: 4 }).map((_, j) => (\n                <div key={j}>\n                  <Skeleton className=\"h-4 w-24 mb-1\" />\n                  <Skeleton className=\"h-5 w-40\" />\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport function WorkerDetailPage() {\n  const { t } = useTranslation('workers');\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n\n  const { data: worker, isLoading } = useWorker(id!);\n  const { data: countries } = useCountryRefs();\n  const deleteMutation = useDeleteWorker();\n\n  const [showTransition, setShowTransition] = useState(false);\n  const [showDelete, setShowDelete] = useState(false);\n  const [showEdit, setShowEdit] = useState(false);\n\n  const getCountryDisplay = (code?: string) => {\n    if (!code) return undefined;\n    const country = countries?.find((c) => c.code === code || c.nameEn === code);\n    if (country) return `${getFlagEmoji(country.code)} ${country.nameEn}`;\n    return code;\n  };\n\n  const handleDelete = async () => {\n    if (!id) return;\n    await deleteMutation.mutateAsync(id);\n    navigate('/workers');\n  };\n\n  if (isLoading) return <DetailSkeleton />;\n\n  if (!worker) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[40vh]\">\n        <p className=\"text-muted-foreground\">{t('common:noResults')}</p>\n      </div>\n    );\n  }\n\n  const hasTransitions = (ALLOWED_TRANSITIONS[worker.status]?.length ?? 0) > 0;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <Link\n          to=\"/workers\"\n          className=\"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4\"\n        >\n          <ArrowLeft className=\"h-4 w-4\" />\n          {t('detail.backToList')}\n        </Link>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            {worker.photoUrl && (\n              <img\n                src={worker.photoUrl}\n                alt={worker.fullNameEn}\n                className=\"h-12 w-12 rounded-full object-cover border\"\n              />\n            )}\n            <div>\n              <h1 className=\"text-2xl font-bold tracking-tight\">{worker.fullNameEn}</h1>\n              <p className=\"text-sm text-muted-foreground font-mono\">{worker.workerCode}</p>\n            </div>\n            <WorkerStatusBadge status={worker.status} />\n            {(() => {\n              const locConfig = LOCATION_CONFIG[worker.location];\n              const LocIcon = locConfig?.icon;\n              return (\n                <Badge variant={locConfig?.variant ?? 'outline'} className=\"gap-1\">\n                  {LocIcon && <LocIcon className=\"h-3 w-3\" />}\n                  {t(`location.${worker.location}`)}\n                </Badge>\n              );\n            })()}\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"outline\" onClick={() => setShowEdit(true)}>\n              <Pencil className=\"me-2 h-4 w-4\" />\n              {t('actions.edit')}\n            </Button>\n            <Button variant=\"outline\" onClick={() => navigate(`/workers/${id}/cv`)}>\n              <FileText className=\"me-2 h-4 w-4\" />\n              {t('actions.viewCv')}\n            </Button>\n            {hasTransitions && (\n              <Button variant=\"outline\" onClick={() => setShowTransition(true)}>\n                <RefreshCw className=\"me-2 h-4 w-4\" />\n                {t('actions.changeStatus')}\n              </Button>\n            )}\n            <Button variant=\"destructive\" onClick={() => setShowDelete(true)}>\n              <Trash2 className=\"me-2 h-4 w-4\" />\n              {t('actions.delete')}\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs defaultValue=\"overview\" className=\"space-y-6\">\n        <TabsList>\n          <TabsTrigger value=\"overview\">{t('tabs.overview')}</TabsTrigger>\n          <TabsTrigger value=\"professional\">{t('tabs.professional')}</TabsTrigger>\n          <TabsTrigger value=\"documents\">{t('tabs.documents')}</TabsTrigger>\n          <TabsTrigger value=\"statusHistory\">\n            {t('tabs.statusHistory')}\n            {worker.statusHistory && (\n              <Badge variant=\"secondary\" className=\"ms-2\">\n                {worker.statusHistory.length}\n              </Badge>\n            )}\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Overview Tab */}\n        <TabsContent value=\"overview\" className=\"space-y-6\">\n          <div className=\"grid gap-6 md:grid-cols-2\">\n            <Card>\n              <CardHeader><CardTitle>{t('detail.personal')}</CardTitle></CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.fullNameEn')} value={worker.fullNameEn} />\n                <InfoItem label={t('detail.fullNameAr')} value={worker.fullNameAr} />\n                <InfoItem label={t('detail.workerCode')} value={worker.workerCode} />\n                <InfoItem label={t('detail.nationality')} value={getCountryDisplay(worker.nationality)} />\n                <InfoItem label={t('detail.dateOfBirth')} value={worker.dateOfBirth} />\n                <InfoItem label={t('detail.gender')} value={worker.gender} />\n                <InfoItem label={t('detail.passportNumber')} value={worker.passportNumber} />\n                <InfoItem label={t('detail.passportExpiry')} value={worker.passportExpiry} />\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader><CardTitle>{t('detail.contact')}</CardTitle></CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.phone')} value={worker.phone} />\n                <InfoItem label={t('detail.email')} value={worker.email} />\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader><CardTitle>{t('detail.sourcing')}</CardTitle></CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.sourceType')} value={t(`sourceType.${worker.sourceType}`)} />\n                <InfoItem label={t('detail.supplier')} value={worker.supplier?.name} />\n                <InfoItem label={t('detail.activatedAt')} value={worker.activatedAt ? new Date(worker.activatedAt).toLocaleString() : undefined} />\n                {worker.terminatedAt && (\n                  <>\n                    <InfoItem label={t('detail.terminatedAt')} value={new Date(worker.terminatedAt).toLocaleString()} />\n                    <InfoItem label={t('detail.terminationReason')} value={worker.terminationReason} />\n                  </>\n                )}\n              </CardContent>\n            </Card>\n\n            {(worker.procurementPaidAt || worker.flightDate || worker.arrivedAt) && (\n              <Card>\n                <CardHeader><CardTitle>{t('detail.travel')}</CardTitle></CardHeader>\n                <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                  {worker.procurementPaidAt && (\n                    <InfoItem label={t('detail.procurementPaidAt')} value={new Date(worker.procurementPaidAt).toLocaleDateString()} />\n                  )}\n                  {worker.flightDate && (\n                    <InfoItem label={t('detail.flightDate')} value={new Date(worker.flightDate).toLocaleDateString()} />\n                  )}\n                  {worker.arrivedAt && (\n                    <InfoItem label={t('detail.arrivedAt')} value={new Date(worker.arrivedAt).toLocaleDateString()} />\n                  )}\n                </CardContent>\n              </Card>\n            )}\n\n            <Card>\n              <CardHeader><CardTitle>{t('detail.media')}</CardTitle></CardHeader>\n              <CardContent>\n                <div className=\"grid gap-6 sm:grid-cols-3\">\n                  <div>\n                    <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.photo')}</p>\n                    {worker.photoUrl ? (\n                      <img src={worker.photoUrl} alt={worker.fullNameEn} className=\"h-40 w-40 rounded-lg object-cover border\" />\n                    ) : (\n                      <div className=\"h-40 w-40 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                        <ImageOff className=\"h-8 w-8 text-muted-foreground/50\" />\n                      </div>\n                    )}\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.video')}</p>\n                    {worker.videoUrl ? (\n                      <video src={worker.videoUrl} controls className=\"h-40 max-w-full rounded-lg border\" />\n                    ) : (\n                      <div className=\"h-40 w-40 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                        <VideoOff className=\"h-8 w-8 text-muted-foreground/50\" />\n                      </div>\n                    )}\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.passportDocument')}</p>\n                    {worker.passportDocumentUrl ? (\n                      <a href={worker.passportDocumentUrl} target=\"_blank\" rel=\"noopener noreferrer\"\n                        className=\"h-40 w-40 rounded-lg border flex flex-col items-center justify-center gap-2 hover:bg-muted/50 transition-colors\">\n                        <FileText className=\"h-10 w-10 text-primary\" />\n                        <span className=\"text-sm text-primary font-medium\">{t('detail.viewPassportDocument')}</span>\n                      </a>\n                    ) : (\n                      <div className=\"h-40 w-40 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                        <FileText className=\"h-8 w-8 text-muted-foreground/50\" />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Professional Tab */}\n        <TabsContent value=\"professional\" className=\"space-y-6\">\n          <div className=\"grid gap-6 md:grid-cols-2\">\n            <Card>\n              <CardHeader><CardTitle>{t('detail.professionalProfile')}</CardTitle></CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.religion')} value={worker.religion ? t(`professional.religion.${worker.religion}`, worker.religion) : undefined} />\n                <InfoItem label={t('detail.maritalStatus')} value={worker.maritalStatus ? t(`professional.maritalStatus.${worker.maritalStatus}`, worker.maritalStatus) : undefined} />\n                <InfoItem label={t('detail.educationLevel')} value={worker.educationLevel ? t(`professional.educationLevel.${worker.educationLevel}`, worker.educationLevel) : undefined} />\n                <InfoItem label={t('detail.jobCategory')} value={worker.jobCategory?.name} />\n                <InfoItem label={t('detail.experienceYears')} value={worker.experienceYears} />\n                <InfoItem label={t('detail.monthlySalary')} value={worker.monthlySalary ? `${worker.monthlySalary} AED` : undefined} />\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader><CardTitle>{t('detail.skills')}</CardTitle></CardHeader>\n              <CardContent>\n                {worker.skills && worker.skills.length > 0 ? (\n                  <div className=\"flex flex-wrap gap-2\">\n                    {worker.skills.map((skill) => (\n                      <Badge key={skill.id} variant=\"outline\">\n                        {skill.skillName} — {t(`skills.proficiency.${skill.proficiencyLevel}`, skill.proficiencyLevel)}\n                      </Badge>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground\">—</p>\n                )}\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader><CardTitle>{t('detail.languages')}</CardTitle></CardHeader>\n              <CardContent>\n                {worker.languages && worker.languages.length > 0 ? (\n                  <div className=\"flex flex-wrap gap-2\">\n                    {worker.languages.map((lang) => (\n                      <Badge key={lang.id} variant=\"outline\">\n                        {lang.language} — {t(`languages.proficiency.${lang.proficiencyLevel}`, lang.proficiencyLevel)}\n                      </Badge>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground\">—</p>\n                )}\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader><CardTitle>{t('detail.operational')}</CardTitle></CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.createdAt')} value={new Date(worker.createdAt).toLocaleString()} />\n                <InfoItem label={t('detail.updatedAt')} value={new Date(worker.updatedAt).toLocaleString()} />\n                <div className=\"sm:col-span-2\">\n                  <InfoItem label={t('detail.notes')} value={worker.notes} />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Documents Tab */}\n        <TabsContent value=\"documents\" className=\"space-y-6\">\n          <Card>\n            <CardHeader><CardTitle>{t('detail.media')}</CardTitle></CardHeader>\n            <CardContent>\n              <div className=\"grid gap-6 sm:grid-cols-3\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.photo')}</p>\n                  {worker.photoUrl ? (\n                    <img src={worker.photoUrl} alt={worker.fullNameEn} className=\"h-48 w-48 rounded-lg object-cover border\" />\n                  ) : (\n                    <div className=\"h-48 w-48 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                      <ImageOff className=\"h-8 w-8 text-muted-foreground/50\" />\n                    </div>\n                  )}\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.video')}</p>\n                  {worker.videoUrl ? (\n                    <video src={worker.videoUrl} controls className=\"h-48 max-w-full rounded-lg border\" />\n                  ) : (\n                    <div className=\"h-48 w-48 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                      <VideoOff className=\"h-8 w-8 text-muted-foreground/50\" />\n                    </div>\n                  )}\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.passportDocument')}</p>\n                  {worker.passportDocumentUrl ? (\n                    <a href={worker.passportDocumentUrl} target=\"_blank\" rel=\"noopener noreferrer\"\n                      className=\"h-48 w-48 rounded-lg border flex flex-col items-center justify-center gap-2 hover:bg-muted/50 transition-colors\">\n                      <FileText className=\"h-12 w-12 text-primary\" />\n                      <span className=\"text-sm text-primary font-medium\">{t('detail.viewPassportDocument')}</span>\n                    </a>\n                  ) : (\n                    <div className=\"h-48 w-48 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                      <FileText className=\"h-8 w-8 text-muted-foreground/50\" />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Status History Tab */}\n        <TabsContent value=\"statusHistory\" className=\"space-y-6\">\n          {worker.statusHistory && worker.statusHistory.length > 0 ? (\n            <Card>\n              <CardHeader><CardTitle>{t('detail.statusHistory')}</CardTitle></CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {worker.statusHistory.map((entry) => (\n                    <div key={entry.id} className=\"flex items-start gap-3 border-s-2 border-muted ps-4 pb-4\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          {entry.fromStatus && (\n                            <>\n                              <WorkerStatusBadge status={entry.fromStatus} />\n                              <span className=\"text-muted-foreground\">→</span>\n                            </>\n                          )}\n                          <WorkerStatusBadge status={entry.toStatus} />\n                        </div>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {new Date(entry.changedAt).toLocaleString()}\n                        </p>\n                        {entry.reason && (\n                          <p className=\"text-sm mt-1\">{entry.reason}</p>\n                        )}\n                        {entry.notes && (\n                          <p className=\"text-sm text-muted-foreground mt-1\">{entry.notes}</p>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"flex items-center justify-center min-h-[20vh]\">\n              <p className=\"text-muted-foreground\">{t('detail.notAvailable')}</p>\n            </div>\n          )}\n        </TabsContent>\n      </Tabs>\n\n      {/* Edit Dialog */}\n      <WorkerEditDialog\n        open={showEdit}\n        onOpenChange={setShowEdit}\n        worker={worker}\n      />\n\n      {/* Status Transition Dialog */}\n      <WorkerStatusTransitionDialog\n        open={showTransition}\n        onOpenChange={setShowTransition}\n        workerId={worker.id}\n        currentStatus={worker.status}\n      />\n\n      {/* Delete Confirmation */}\n      <AlertDialog open={showDelete} onOpenChange={setShowDelete}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('deleteDialog.title')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('deleteDialog.description')}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('deleteDialog.confirm')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { useQuery } from '@tanstack/react-query';\nimport { ArrowLeft, Printer, Download, ImageOff } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/components/ui/card';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { Skeleton } from '@/shared/components/ui/skeleton';\nimport { useCountryRefs, getFlagEmoji } from '@/features/reference-data';\nimport { getWorkerCv, downloadWorkerCvPdf } from '../api';\n\nfunction CvSkeleton() {\n  return (\n    <div className=\"space-y-6\">\n      <Skeleton className=\"h-4 w-32 mb-4\" />\n      <Skeleton className=\"h-8 w-64\" />\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        {Array.from({ length: 4 }).map((_, i) => (\n          <Card key={i}>\n            <CardHeader><Skeleton className=\"h-6 w-40\" /></CardHeader>\n            <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n              {Array.from({ length: 4 }).map((_, j) => (\n                <div key={j}>\n                  <Skeleton className=\"h-4 w-24 mb-1\" />\n                  <Skeleton className=\"h-5 w-40\" />\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction InfoItem({ label, value }: { label: string; value?: string | number | null }) {\n  return (\n    <div>\n      <p className=\"text-sm text-muted-foreground\">{label}</p>\n      <p className=\"font-medium\">{value != null && value !== '' ? String(value) : '—'}</p>\n    </div>\n  );\n}\n\nexport function WorkerCvPage() {\n  const { t } = useTranslation('workers');\n  const { id } = useParams<{ id: string }>();\n  const { data: countries } = useCountryRefs();\n\n  const { data: cv, isLoading } = useQuery({\n    queryKey: ['workers', id, 'cv'],\n    queryFn: () => getWorkerCv(id!),\n    enabled: !!id,\n  });\n\n  const getCountryDisplay = (code?: string) => {\n    if (!code) return undefined;\n    const country = countries?.find((c) => c.code === code || c.nameEn === code);\n    if (country) return `${getFlagEmoji(country.code)} ${country.nameEn}`;\n    return code;\n  };\n\n  const [downloading, setDownloading] = useState(false);\n\n  const handleDownloadPdf = async () => {\n    if (!id) return;\n    setDownloading(true);\n    try {\n      const blob = await downloadWorkerCvPdf(id);\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `CV-${cv?.workerCode ?? id}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    } catch {\n      // silently fail — could add toast in the future\n    } finally {\n      setDownloading(false);\n    }\n  };\n\n  if (isLoading) return <CvSkeleton />;\n\n  if (!cv) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[40vh]\">\n        <p className=\"text-muted-foreground\">{t('common:noResults')}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between print:hidden\">\n        <div>\n          <Link\n            to={`/workers/${id}`}\n            className=\"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            {t('cv.backToDetail')}\n          </Link>\n          <h1 className=\"text-2xl font-bold tracking-tight\">{t('cv.title')}</h1>\n          <p className=\"text-muted-foreground font-mono\">{cv.workerCode}</p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={handleDownloadPdf} disabled={downloading}>\n            <Download className=\"me-2 h-4 w-4\" />\n            {downloading ? t('cv.downloading') : t('cv.downloadPdf')}\n          </Button>\n          <Button variant=\"outline\" onClick={() => window.print()}>\n            <Printer className=\"me-2 h-4 w-4\" />\n            {t('cv.print')}\n          </Button>\n        </div>\n      </div>\n\n      {/* CV Content */}\n      <div className=\"grid gap-6 md:grid-cols-3 print:grid-cols-3\">\n        {/* Photo */}\n        <div className=\"md:col-span-1 print:col-span-1 flex justify-center\">\n          {cv.photoUrl ? (\n            <img src={cv.photoUrl} alt={cv.fullNameEn} className=\"h-48 w-48 rounded-lg object-cover border\" />\n          ) : (\n            <div className=\"h-48 w-48 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n              <ImageOff className=\"h-12 w-12 text-muted-foreground/50\" />\n            </div>\n          )}\n        </div>\n\n        {/* Personal Info */}\n        <Card className=\"md:col-span-2 print:col-span-2\">\n          <CardHeader><CardTitle>{t('cv.personal')}</CardTitle></CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <InfoItem label={t('detail.fullNameEn')} value={cv.fullNameEn} />\n            <InfoItem label={t('detail.fullNameAr')} value={cv.fullNameAr} />\n            <InfoItem label={t('detail.nationality')} value={getCountryDisplay(cv.nationality)} />\n            <InfoItem label={t('detail.dateOfBirth')} value={cv.dateOfBirth} />\n            <InfoItem label={t('detail.gender')} value={cv.gender} />\n            <InfoItem label={t('detail.passportNumber')} value={cv.passportNumber} />\n            <InfoItem label={t('detail.phone')} value={cv.phone} />\n            <InfoItem label={t('detail.email')} value={cv.email} />\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Professional Profile */}\n      <Card>\n        <CardHeader><CardTitle>{t('cv.professional')}</CardTitle></CardHeader>\n        <CardContent className=\"grid gap-4 sm:grid-cols-3\">\n          <InfoItem label={t('detail.religion')} value={cv.religion ? t(`professional.religion.${cv.religion}`, cv.religion) : undefined} />\n          <InfoItem label={t('detail.maritalStatus')} value={cv.maritalStatus ? t(`professional.maritalStatus.${cv.maritalStatus}`, cv.maritalStatus) : undefined} />\n          <InfoItem label={t('detail.educationLevel')} value={cv.educationLevel ? t(`professional.educationLevel.${cv.educationLevel}`, cv.educationLevel) : undefined} />\n          <InfoItem label={t('detail.jobCategory')} value={cv.jobCategory?.name} />\n          <InfoItem label={t('detail.experienceYears')} value={cv.experienceYears} />\n          <InfoItem label={t('detail.monthlySalary')} value={cv.monthlySalary ? `${cv.monthlySalary} AED` : undefined} />\n        </CardContent>\n      </Card>\n\n      {/* Skills & Languages */}\n      <div className=\"grid gap-6 md:grid-cols-2 print:grid-cols-2\">\n        <Card>\n          <CardHeader><CardTitle>{t('cv.skills')}</CardTitle></CardHeader>\n          <CardContent>\n            {cv.skills.length > 0 ? (\n              <div className=\"flex flex-wrap gap-2\">\n                {cv.skills.map((skill) => (\n                  <Badge key={skill.id} variant=\"outline\">\n                    {skill.skillName} — {t(`skills.proficiency.${skill.proficiencyLevel}`, skill.proficiencyLevel)}\n                  </Badge>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-sm text-muted-foreground\">—</p>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader><CardTitle>{t('cv.languages')}</CardTitle></CardHeader>\n          <CardContent>\n            {cv.languages.length > 0 ? (\n              <div className=\"flex flex-wrap gap-2\">\n                {cv.languages.map((lang) => (\n                  <Badge key={lang.id} variant=\"outline\">\n                    {lang.language} — {t(`languages.proficiency.${lang.proficiencyLevel}`, lang.proficiencyLevel)}\n                  </Badge>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-sm text-muted-foreground\">—</p>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":["__iconNode","ArrowRightLeft","createLucideIcon","Baby","BookOpen","Briefcase","Download","Globe","GraduationCap","HeartPulse","MapPin","Plane","Printer","Skull","Stethoscope","TriangleAlert","tenantPath","path","getTenantId","listWorkers","params","apiClient","getWorker","id","updateWorker","data","transitionWorkerStatus","getWorkerCv","deleteWorker","downloadWorkerCvPdf","token","getAccessToken","tenantId","url","API_BASE","response","WORKERS_KEY","useWorkers","useQuery","api.listWorkers","useWorker","api.getWorker","useUpdateWorker","queryClient","useQueryClient","useMutation","api.updateWorker","useTransitionWorkerStatus","api.transitionWorkerStatus","useDeleteWorker","api.deleteWorker","STATUS_CONFIG","CheckCircle","UserCheck","Shield","RefreshCw","Clock","AlertTriangle","XCircle","Home","Ban","ALL_STATUSES","ALL_LOCATIONS","ALL_SOURCE_TYPES","ALLOWED_TRANSITIONS","REASON_REQUIRED_STATUSES","LOCATION_CONFIG","WorkerStatusBadge","status","useTranslation","config","jsx","Badge","Icon","jsxs","WorkerStatusTransitionDialog","open","onOpenChange","workerId","currentStatus","t","targetStatus","setTargetStatus","useState","reason","setReason","notes","setNotes","transition","needsReason","canSubmit","availableStatuses","handleSubmit","handleOpenChange","value","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","e","DialogFooter","Button","WorkersPage","navigate","useNavigate","search","setSearch","page","setPage","pageSize","setPageSize","selectedIds","setSelectedIds","statusFilter","setStatusFilter","locationFilter","setLocationFilter","sourceTypeFilter","setSourceTypeFilter","deleteTarget","setDeleteTarget","transitionTarget","setTransitionTarget","queryParams","useMemo","isLoading","refetch","countries","useCountryRefs","deleteMutation","getCountryName","code","country","c","handleDelete","filters","s","handleFilterChange","key","columns","row","getFlagEmoji","_a","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","DropdownMenuItem","Eye","FileText","DropdownMenuSeparator","Trash2","DataTableAdvanced","val","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","WorkerEditDialog","worker","updateMutation","location","setLocation","procurementPaidAt","setProcurementPaidAt","flightDate","setFlightDate","_b","arrivedAt","setArrivedAt","_c","useEffect","v","loc","Input","InfoItem","label","DetailSkeleton","Skeleton","_","i","Card","CardHeader","CardContent","j","WorkerDetailPage","useParams","showTransition","setShowTransition","showDelete","setShowDelete","showEdit","setShowEdit","getCountryDisplay","hasTransitions","Link","ArrowLeft","locConfig","LocIcon","Pencil","Tabs","TabsList","TabsTrigger","TabsContent","CardTitle","Fragment","ImageOff","VideoOff","skill","lang","entry","CvSkeleton","WorkerCvPage","cv","downloading","setDownloading","handleDownloadPdf","blob","a"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13]}