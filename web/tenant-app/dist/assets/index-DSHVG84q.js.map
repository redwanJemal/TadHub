{"version":3,"file":"index-DSHVG84q.js","sources":["../../src/features/reference-data/components/JobCategorySelect.tsx","../../src/features/reference-data/components/NationalitySelect.tsx","../../src/features/candidates/api.ts","../../src/features/candidates/hooks.ts","../../src/features/candidates/constants.ts","../../src/features/candidates/components/StatusBadge.tsx","../../src/features/candidates/components/StatusTransitionDialog.tsx","../../src/features/candidates/pages/CandidatesPage.tsx","../../src/features/candidates/components/SkillsEditor.tsx","../../src/features/candidates/components/LanguagesEditor.tsx","../../src/features/candidates/components/FileUpload.tsx","../../src/features/candidates/pages/CreateCandidatePage.tsx","../../src/features/candidates/components/StatusTimeline.tsx","../../src/features/candidates/pages/CandidateDetailPage.tsx","../../src/features/candidates/pages/EditCandidatePage.tsx"],"sourcesContent":["import {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { Skeleton } from '@/shared/components/ui/skeleton';\nimport { useJobCategoryRefs } from '../hooks/use-reference-data';\nimport type { JobCategoryRefDto } from '../types';\n\nexport interface JobCategorySelectProps {\n  /** Selected job category ID */\n  value?: string;\n  /** Change handler */\n  onChange?: (value: string, category?: JobCategoryRefDto) => void;\n  /** Whether the select is disabled */\n  disabled?: boolean;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Show MoHRE code prefix */\n  showCode?: boolean;\n  /** Additional class names */\n  className?: string;\n  /** Error state */\n  error?: boolean;\n  /** ID for form association */\n  id?: string;\n  /** Name for form association */\n  name?: string;\n}\n\n/**\n * Reusable Job Category Select component\n * Fetches and caches job categories from the API\n * \n * @example\n * <JobCategorySelect\n *   value={formData.jobCategoryId}\n *   onChange={(id) => setFormData({ ...formData, jobCategoryId: id })}\n *   showCode\n * />\n */\nexport function JobCategorySelect({\n  value,\n  onChange,\n  disabled,\n  placeholder = 'Select job category',\n  showCode = false,\n  className,\n  error,\n  id,\n  name,\n}: JobCategorySelectProps) {\n  const { data: categories, isLoading, isError } = useJobCategoryRefs();\n\n  const handleChange = (newValue: string) => {\n    const category = categories?.find((c) => c.id === newValue);\n    onChange?.(newValue, category);\n  };\n\n  // Find the selected category for display\n  const selectedCategory = categories?.find((c) => c.id === value);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-10 w-full\" />;\n  }\n\n  if (isError) {\n    return (\n      <Select disabled>\n        <SelectTrigger className={className}>\n          <SelectValue placeholder=\"Failed to load categories\" />\n        </SelectTrigger>\n      </Select>\n    );\n  }\n\n  return (\n    <Select\n      value={value}\n      onValueChange={handleChange}\n      disabled={disabled}\n      name={name}\n    >\n      <SelectTrigger\n        id={id}\n        className={`${className} ${error ? 'border-red-500' : ''}`}\n      >\n        <SelectValue placeholder={placeholder}>\n          {selectedCategory && (\n            <span>\n              {showCode && (\n                <span className=\"font-mono text-muted-foreground me-2\">\n                  {selectedCategory.moHRECode}\n                </span>\n              )}\n              {selectedCategory.nameEn}\n            </span>\n          )}\n        </SelectValue>\n      </SelectTrigger>\n      <SelectContent>\n        {categories?.map((category) => (\n          <SelectItem key={category.id} value={category.id}>\n            {showCode && (\n              <span className=\"font-mono text-muted-foreground me-2\">\n                {category.moHRECode}\n              </span>\n            )}\n            {category.nameEn}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  );\n}\n\nexport default JobCategorySelect;\n","import {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { Skeleton } from '@/shared/components/ui/skeleton';\nimport { useCommonNationalities, useCountryRefs } from '../hooks/use-reference-data';\nimport { getFlagEmoji } from '../types';\nimport type { CountryRefDto } from '../types';\n\nexport interface NationalitySelectProps {\n  /** Selected value (country ID or name, based on valueType) */\n  value?: string;\n  /** Change handler - returns value based on valueType */\n  onChange?: (value: string, country?: CountryRefDto) => void;\n  /** Whether the select is disabled */\n  disabled?: boolean;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Show only common Tadbeer nationalities (Philippines, Indonesia, etc.) */\n  commonOnly?: boolean;\n  /** Show country flag emoji */\n  showFlag?: boolean;\n  /** What value to use - 'id' for country UUID, 'name' for country nameEn */\n  valueType?: 'id' | 'name';\n  /** Additional class names */\n  className?: string;\n  /** Error state */\n  error?: boolean;\n  /** ID for form association */\n  id?: string;\n  /** Name for form association */\n  name?: string;\n}\n\n/**\n * Reusable Nationality Select component\n * Shows nationality based on country data\n * Can show only common Tadbeer nationalities or all countries\n * \n * @example\n * // Common nationalities only (for worker registration)\n * <NationalitySelect\n *   value={formData.nationalityId}\n *   onChange={(id) => setFormData({ ...formData, nationalityId: id })}\n *   commonOnly\n * />\n * \n * // All countries\n * <NationalitySelect\n *   value={formData.nationalityId}\n *   onChange={(id) => setFormData({ ...formData, nationalityId: id })}\n * />\n */\nexport function NationalitySelect({\n  value,\n  onChange,\n  disabled,\n  placeholder = 'Select nationality',\n  commonOnly = false,\n  showFlag = true,\n  valueType = 'id',\n  className,\n  error,\n  id,\n  name,\n}: NationalitySelectProps) {\n  // Use common nationalities if commonOnly, otherwise all countries\n  const commonQuery = useCommonNationalities();\n  const allQuery = useCountryRefs();\n  \n  const { data: countries, isLoading, isError } = commonOnly ? commonQuery : allQuery;\n\n  // Get the value to use for each country based on valueType\n  const getCountryValue = (country: CountryRefDto) => \n    valueType === 'name' ? country.nameEn : country.id;\n\n  const handleChange = (newValue: string) => {\n    const country = countries?.find((c) => getCountryValue(c) === newValue);\n    onChange?.(newValue, country);\n  };\n\n  // Find the selected country for display\n  const selectedCountry = countries?.find((c) => getCountryValue(c) === value);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-10 w-full\" />;\n  }\n\n  if (isError) {\n    return (\n      <Select disabled>\n        <SelectTrigger className={className}>\n          <SelectValue placeholder=\"Failed to load nationalities\" />\n        </SelectTrigger>\n      </Select>\n    );\n  }\n\n  return (\n    <Select\n      value={value}\n      onValueChange={handleChange}\n      disabled={disabled}\n      name={name}\n    >\n      <SelectTrigger\n        id={id}\n        className={`${className} ${error ? 'border-red-500' : ''}`}\n      >\n        <SelectValue placeholder={placeholder}>\n          {selectedCountry && (\n            <span className=\"flex items-center gap-2\">\n              {showFlag && (\n                <span className=\"text-lg\">{getFlagEmoji(selectedCountry.code)}</span>\n              )}\n              <span>{selectedCountry.nameEn}</span>\n            </span>\n          )}\n        </SelectValue>\n      </SelectTrigger>\n      <SelectContent>\n        {countries?.map((country) => (\n          <SelectItem key={country.id} value={getCountryValue(country)}>\n            <span className=\"flex items-center gap-2\">\n              {showFlag && (\n                <span className=\"text-lg\">{getFlagEmoji(country.code)}</span>\n              )}\n              <span>{country.nameEn}</span>\n            </span>\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  );\n}\n\nexport default NationalitySelect;\n","import { apiClient, API_BASE } from '@/shared/api/client';\nimport { getTenantId, getAccessToken } from '@/features/auth/AuthProvider';\nimport type { QueryParams } from '@/shared/api/types/common';\nimport type {\n  CandidateDto,\n  CandidateListDto,\n  CandidateStatusHistoryDto,\n  CreateCandidateRequest,\n  UpdateCandidateRequest,\n  TransitionStatusRequest,\n  TenantFileDto,\n} from './types';\n\nfunction tenantPath(path: string) {\n  const tenantId = getTenantId();\n  return `/tenants/${tenantId}${path}`;\n}\n\nexport function listCandidates(params?: QueryParams) {\n  return apiClient.getPaged<CandidateListDto>(tenantPath('/candidates'), params);\n}\n\nexport function getCandidate(id: string, params?: QueryParams) {\n  return apiClient.get<CandidateDto>(tenantPath(`/candidates/${id}`), params);\n}\n\nexport function createCandidate(data: CreateCandidateRequest) {\n  return apiClient.post<CandidateDto>(tenantPath('/candidates'), data);\n}\n\nexport function updateCandidate(id: string, data: UpdateCandidateRequest) {\n  return apiClient.patch<CandidateDto>(tenantPath(`/candidates/${id}`), data);\n}\n\nexport function transitionStatus(id: string, data: TransitionStatusRequest) {\n  return apiClient.post<CandidateDto>(tenantPath(`/candidates/${id}/status`), data);\n}\n\nexport function getStatusHistory(id: string) {\n  return apiClient.get<CandidateStatusHistoryDto[]>(tenantPath(`/candidates/${id}/status-history`));\n}\n\nexport function deleteCandidate(id: string) {\n  return apiClient.delete<void>(tenantPath(`/candidates/${id}`));\n}\n\nasync function authenticatedUpload<T>(path: string, file: File, errorMsg: string): Promise<T> {\n  const tenantId = getTenantId();\n  const formData = new FormData();\n  formData.append('file', file);\n\n  const token = getAccessToken();\n  const res = await fetch(`${API_BASE}${path}`, {\n    method: 'POST',\n    headers: {\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\n      'X-Tenant-ID': tenantId || '',\n    },\n    body: formData,\n  });\n\n  if (!res.ok) {\n    const body = await res.json().catch(() => ({}));\n    throw new Error(body.error || errorMsg);\n  }\n\n  const json = await res.json();\n  return json.data ?? json;\n}\n\nexport function uploadCandidatePhoto(id: string, file: File): Promise<CandidateDto> {\n  return authenticatedUpload(tenantPath(`/candidates/${id}/photo`), file, 'Photo upload failed');\n}\n\nexport function uploadCandidateVideo(id: string, file: File): Promise<CandidateDto> {\n  return authenticatedUpload(tenantPath(`/candidates/${id}/video`), file, 'Video upload failed');\n}\n\nexport function uploadCandidatePassport(id: string, file: File): Promise<CandidateDto> {\n  return authenticatedUpload(tenantPath(`/candidates/${id}/passport`), file, 'Passport upload failed');\n}\n\nexport function uploadFile(file: File, fileType: string): Promise<TenantFileDto> {\n  return authenticatedUpload(tenantPath(`/files?fileType=${fileType}`), file, 'File upload failed');\n}\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport type { QueryParams } from '@/shared/api/types/common';\nimport * as api from './api';\nimport type {\n  CreateCandidateRequest,\n  UpdateCandidateRequest,\n  TransitionStatusRequest,\n} from './types';\n\nconst CANDIDATES_KEY = 'candidates';\n\nexport function useCandidates(params?: QueryParams) {\n  return useQuery({\n    queryKey: [CANDIDATES_KEY, params],\n    queryFn: () => api.listCandidates({ ...params, include: 'supplier' }),\n  });\n}\n\nexport function useCandidate(id: string) {\n  return useQuery({\n    queryKey: [CANDIDATES_KEY, id],\n    queryFn: () => api.getCandidate(id, { include: 'statusHistory,supplier' }),\n    enabled: !!id,\n  });\n}\n\nexport function useStatusHistory(id: string) {\n  return useQuery({\n    queryKey: [CANDIDATES_KEY, id, 'status-history'],\n    queryFn: () => api.getStatusHistory(id),\n    enabled: !!id,\n  });\n}\n\nexport function useCreateCandidate() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (data: CreateCandidateRequest) => api.createCandidate(data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [CANDIDATES_KEY] });\n    },\n  });\n}\n\nexport function useUpdateCandidate() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: UpdateCandidateRequest }) =>\n      api.updateCandidate(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [CANDIDATES_KEY] });\n    },\n  });\n}\n\nexport function useTransitionStatus() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: TransitionStatusRequest }) =>\n      api.transitionStatus(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [CANDIDATES_KEY] });\n    },\n  });\n}\n\nexport function useDeleteCandidate() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (id: string) => api.deleteCandidate(id),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [CANDIDATES_KEY] });\n    },\n  });\n}\n\nexport function useUploadPhoto() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ id, file }: { id: string; file: File }) =>\n      api.uploadCandidatePhoto(id, file),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [CANDIDATES_KEY] });\n    },\n  });\n}\n\nexport function useUploadVideo() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ id, file }: { id: string; file: File }) =>\n      api.uploadCandidateVideo(id, file),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [CANDIDATES_KEY] });\n    },\n  });\n}\n\nexport function useUploadPassport() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ id, file }: { id: string; file: File }) =>\n      api.uploadCandidatePassport(id, file),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [CANDIDATES_KEY] });\n    },\n  });\n}\n\nexport function useUploadFile() {\n  return useMutation({\n    mutationFn: ({ file, fileType }: { file: File; fileType: string }) =>\n      api.uploadFile(file, fileType),\n  });\n}\n","import type { LucideIcon } from 'lucide-react';\nimport {\n  Clock,\n  Search,\n  CheckCircle,\n  XCircle,\n  Ban,\n} from 'lucide-react';\nimport type { CandidateStatus, CandidateSourceType, SkillProficiency, LanguageProficiency } from './types';\n\ntype BadgeVariant = 'default' | 'secondary' | 'destructive' | 'success' | 'warning' | 'outline';\n\ninterface StatusConfig {\n  variant: BadgeVariant;\n  icon: LucideIcon;\n}\n\nexport const STATUS_CONFIG: Record<CandidateStatus, StatusConfig> = {\n  Received: { variant: 'secondary', icon: Clock },\n  UnderReview: { variant: 'warning', icon: Search },\n  Approved: { variant: 'success', icon: CheckCircle },\n  Rejected: { variant: 'destructive', icon: XCircle },\n  Cancelled: { variant: 'secondary', icon: Ban },\n};\n\nexport const ALL_STATUSES: CandidateStatus[] = [\n  'Received',\n  'UnderReview',\n  'Approved',\n  'Rejected',\n  'Cancelled',\n];\n\nexport const ALL_SOURCE_TYPES: CandidateSourceType[] = ['Supplier', 'Local'];\n\n/** Allowed manual status transitions (review phase only) */\nexport const ALLOWED_TRANSITIONS: Partial<Record<CandidateStatus, CandidateStatus[]>> = {\n  Received: ['UnderReview', 'Cancelled'],\n  UnderReview: ['Approved', 'Rejected', 'Cancelled'],\n};\n\nexport const PRESET_SKILLS = [\n  'Cooking',\n  'Cleaning',\n  'Childcare',\n  'Eldercare',\n  'Laundry',\n  'Ironing',\n  'Driving',\n];\n\nexport const PRESET_LANGUAGES = [\n  'Arabic',\n  'English',\n  'Hindi',\n  'Urdu',\n  'Tagalog',\n  'Sinhala',\n  'Bengali',\n  'Nepali',\n  'Indonesian',\n  'Amharic',\n];\n\nexport const SKILL_PROFICIENCY_LEVELS: SkillProficiency[] = [\n  'Basic',\n  'Intermediate',\n  'Advanced',\n  'Expert',\n];\n\nexport const LANGUAGE_PROFICIENCY_LEVELS: LanguageProficiency[] = [\n  'Basic',\n  'Conversational',\n  'Fluent',\n  'Native',\n];\n\nexport const RELIGION_OPTIONS = [\n  'Islam',\n  'Christianity',\n  'Hinduism',\n  'Buddhism',\n  'Other',\n];\n\nexport const MARITAL_STATUS_OPTIONS = [\n  'Single',\n  'Married',\n  'Divorced',\n  'Widowed',\n];\n\nexport const EDUCATION_LEVEL_OPTIONS = [\n  'None',\n  'Primary',\n  'Secondary',\n  'HighSchool',\n  'Diploma',\n  'Bachelor',\n  'Master',\n  'PhD',\n];\n","import { useTranslation } from 'react-i18next';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { STATUS_CONFIG } from '../constants';\nimport type { CandidateStatus } from '../types';\n\ninterface StatusBadgeProps {\n  status: CandidateStatus;\n  showIcon?: boolean;\n  className?: string;\n}\n\nexport function StatusBadge({ status, showIcon = true, className }: StatusBadgeProps) {\n  const { t } = useTranslation('candidates');\n  const config = STATUS_CONFIG[status];\n\n  if (!config) {\n    return <Badge variant=\"outline\">{status}</Badge>;\n  }\n\n  const Icon = config.icon;\n\n  return (\n    <Badge variant={config.variant} className={className}>\n      {showIcon && <Icon className=\"me-1 h-3 w-3\" />}\n      {t(`status.${status}`)}\n    </Badge>\n  );\n}\n","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/shared/components/ui/dialog';\nimport { Button } from '@/shared/components/ui/button';\nimport { Label } from '@/shared/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { ALLOWED_TRANSITIONS } from '../constants';\nimport { StatusBadge } from './StatusBadge';\nimport { useTransitionStatus } from '../hooks';\nimport type { CandidateStatus } from '../types';\n\nconst REASON_REQUIRED_STATUSES: CandidateStatus[] = ['Rejected', 'Cancelled'];\n\ninterface StatusTransitionDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  candidateId: string;\n  currentStatus: CandidateStatus;\n}\n\nexport function StatusTransitionDialog({\n  open,\n  onOpenChange,\n  candidateId,\n  currentStatus,\n}: StatusTransitionDialogProps) {\n  const { t } = useTranslation('candidates');\n  const [targetStatus, setTargetStatus] = useState('');\n  const [reason, setReason] = useState('');\n  const [notes, setNotes] = useState('');\n  const transition = useTransitionStatus();\n\n  const needsReason = REASON_REQUIRED_STATUSES.includes(targetStatus as CandidateStatus);\n  const canSubmit = targetStatus && (!needsReason || reason.trim());\n\n  const availableStatuses = ALLOWED_TRANSITIONS[currentStatus] ?? [];\n\n  const handleSubmit = async () => {\n    if (!canSubmit) return;\n    await transition.mutateAsync({\n      id: candidateId,\n      data: {\n        status: targetStatus,\n        reason: reason.trim() || undefined,\n        notes: notes.trim() || undefined,\n      },\n    });\n    setTargetStatus('');\n    setReason('');\n    setNotes('');\n    onOpenChange(false);\n  };\n\n  const handleOpenChange = (value: boolean) => {\n    if (!value) {\n      setTargetStatus('');\n      setReason('');\n      setNotes('');\n    }\n    onOpenChange(value);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={handleOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>{t('transition.title')}</DialogTitle>\n          <DialogDescription>{t('transition.description')}</DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <Label>{t('transition.currentStatus')}</Label>\n            <div><StatusBadge status={currentStatus} /></div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('transition.targetStatus')}</Label>\n            <Select value={targetStatus} onValueChange={setTargetStatus}>\n              <SelectTrigger>\n                <SelectValue placeholder={t('transition.targetStatusPlaceholder')} />\n              </SelectTrigger>\n              <SelectContent>\n                {availableStatuses.map((status) => (\n                  <SelectItem key={status} value={status}>\n                    <StatusBadge status={status} />\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>\n              {t('transition.reason')}\n              {needsReason && <span className=\"text-destructive\"> *</span>}\n            </Label>\n            <textarea\n              className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              placeholder={t('transition.reasonPlaceholder')}\n              value={reason}\n              onChange={(e) => setReason(e.target.value)}\n            />\n            {needsReason && !reason.trim() && (\n              <p className=\"text-sm text-destructive\">{t('transition.reasonRequired')}</p>\n            )}\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>{t('transition.notes')}</Label>\n            <textarea\n              className=\"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n              placeholder={t('transition.notesPlaceholder')}\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => handleOpenChange(false)}>\n            {t('common:cancel')}\n          </Button>\n          <Button onClick={handleSubmit} disabled={!canSubmit || transition.isPending}>\n            {transition.isPending ? t('transition.submitting') : t('transition.submit')}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { DataTableAdvanced, type Column, type Filter } from '@/shared/components/data-table/DataTableAdvanced';\nimport { Button } from '@/shared/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/shared/components/ui/dropdown-menu';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/shared/components/ui/alert-dialog';\nimport { MoreHorizontal, Plus, Trash2, Eye, RefreshCw } from 'lucide-react';\nimport { usePermissions } from '@/features/auth/hooks/usePermissions';\nimport { PermissionGate } from '@/shared/components/PermissionGate';\nimport { useCountryRefs, getFlagEmoji } from '@/features/reference-data';\nimport { useCandidates, useDeleteCandidate } from '../hooks';\nimport { StatusBadge } from '../components/StatusBadge';\nimport { StatusTransitionDialog } from '../components/StatusTransitionDialog';\nimport { ALL_STATUSES, ALL_SOURCE_TYPES } from '../constants';\nimport type { CandidateListDto } from '../types';\n\nexport function CandidatesPage() {\n  const { t } = useTranslation('candidates');\n  const navigate = useNavigate();\n  const { hasPermission } = usePermissions();\n\n  // Table state\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\n  const [statusFilter, setStatusFilter] = useState<string | undefined>();\n  const [sourceTypeFilter, setSourceTypeFilter] = useState<string | undefined>();\n\n  // Dialog state\n  const [deleteTarget, setDeleteTarget] = useState<CandidateListDto | null>(null);\n  const [transitionTarget, setTransitionTarget] = useState<CandidateListDto | null>(null);\n\n  // Data\n  const queryParams = useMemo(() => ({\n    page,\n    pageSize,\n    search: search || undefined,\n    sort: '-createdAt',\n    'filter[status]': statusFilter,\n    'filter[sourceType]': sourceTypeFilter,\n  }), [page, pageSize, search, statusFilter, sourceTypeFilter]);\n\n  const { data, isLoading, refetch } = useCandidates(queryParams);\n  const { data: countries } = useCountryRefs();\n  const deleteMutation = useDeleteCandidate();\n\n  const getCountryName = (code?: string) => {\n    if (!code) return '—';\n    const country = countries?.find((c) => c.code === code);\n    return country?.nameEn ?? code;\n  };\n\n  const handleDelete = async () => {\n    if (!deleteTarget) return;\n    await deleteMutation.mutateAsync(deleteTarget.id);\n    setDeleteTarget(null);\n  };\n\n  const filters: Filter[] = [\n    {\n      key: 'status',\n      label: t('filters.status'),\n      options: ALL_STATUSES.map((s) => ({ label: t(`status.${s}`), value: s })),\n      value: statusFilter,\n    },\n    {\n      key: 'sourceType',\n      label: t('filters.sourceType'),\n      options: ALL_SOURCE_TYPES.map((s) => ({ label: t(`sourceType.${s}`), value: s })),\n      value: sourceTypeFilter,\n    },\n  ];\n\n  const handleFilterChange = (key: string, value: string | undefined) => {\n    if (key === 'status') setStatusFilter(value);\n    if (key === 'sourceType') setSourceTypeFilter(value);\n    setPage(1);\n  };\n\n  const columns: Column<CandidateListDto>[] = [\n    {\n      key: 'name',\n      header: t('columns.name'),\n      cell: (row) => (\n        <div className=\"flex items-center gap-2 min-w-0\">\n          {row.photoUrl ? (\n            <img src={row.photoUrl} alt=\"\" className=\"h-8 w-8 rounded-full object-cover border shrink-0\" />\n          ) : (\n            <div className=\"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-xs font-medium shrink-0\">\n              {row.fullNameEn.charAt(0)}\n            </div>\n          )}\n          <div className=\"min-w-0\">\n            <p className=\"font-medium truncate\">{row.fullNameEn}</p>\n            {row.fullNameAr && (\n              <p className=\"text-xs text-muted-foreground truncate\" dir=\"rtl\">\n                {row.fullNameAr}\n              </p>\n            )}\n          </div>\n        </div>\n      ),\n    },\n    {\n      key: 'nationality',\n      header: t('columns.nationality'),\n      cell: (row) => (\n        <div className=\"flex items-center gap-1.5\">\n          {row.nationality && (\n            <span className=\"text-lg leading-none\">{getFlagEmoji(row.nationality)}</span>\n          )}\n          <span>{getCountryName(row.nationality)}</span>\n        </div>\n      ),\n    },\n    {\n      key: 'sourceType',\n      header: t('columns.sourceType'),\n      cell: (row) => t(`sourceType.${row.sourceType}`),\n    },\n    {\n      key: 'supplier',\n      header: t('columns.supplier'),\n      cell: (row) => row.supplier?.name ?? '—',\n    },\n    {\n      key: 'jobCategory',\n      header: t('columns.jobCategory'),\n      cell: (row) => row.jobCategory?.name ?? '—',\n    },\n    {\n      key: 'status',\n      header: t('columns.status'),\n      cell: (row) => <StatusBadge status={row.status} />,\n    },\n    {\n      key: 'createdAt',\n      header: t('columns.createdAt'),\n      cell: (row) => new Date(row.createdAt).toLocaleDateString(),\n    },\n    {\n      key: 'actions',\n      header: t('columns.actions'),\n      className: 'w-[70px]',\n      cell: (row) => (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem onClick={() => navigate(`/candidates/${row.id}`)}>\n              <Eye className=\"me-2 h-4 w-4\" />\n              {t('actions.view')}\n            </DropdownMenuItem>\n            {hasPermission('candidates.manage_status') && (\n              <DropdownMenuItem onClick={() => setTransitionTarget(row)}>\n                <RefreshCw className=\"me-2 h-4 w-4\" />\n                {t('actions.changeStatus')}\n              </DropdownMenuItem>\n            )}\n            {hasPermission('candidates.delete') && (\n              <>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem\n                  className=\"text-destructive\"\n                  onClick={() => setDeleteTarget(row)}\n                >\n                  <Trash2 className=\"me-2 h-4 w-4\" />\n                  {t('actions.delete')}\n                </DropdownMenuItem>\n              </>\n            )}\n          </DropdownMenuContent>\n        </DropdownMenu>\n      ),\n    },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold tracking-tight\">{t('title')}</h1>\n        <p className=\"text-muted-foreground\">{t('description')}</p>\n      </div>\n\n      <DataTableAdvanced\n        columns={columns}\n        data={data?.items ?? []}\n        isLoading={isLoading}\n        selectable\n        selectedIds={selectedIds}\n        onSelectionChange={setSelectedIds}\n        searchPlaceholder={t('searchPlaceholder')}\n        searchValue={search}\n        onSearchChange={(val) => {\n          setSearch(val);\n          setPage(1);\n        }}\n        filters={filters}\n        onFilterChange={handleFilterChange}\n        page={page}\n        totalPages={data?.totalPages}\n        total={data?.totalCount}\n        pageSize={pageSize}\n        onPageChange={setPage}\n        onPageSizeChange={setPageSize}\n        onRefresh={() => refetch()}\n        emptyVariant=\"default\"\n        emptyTitle={t('empty.title')}\n        emptyDescription={t('empty.description')}\n        emptyAction={\n          <PermissionGate permission=\"candidates.create\">\n            <Button onClick={() => navigate('/candidates/new')}>\n              <Plus className=\"me-2 h-4 w-4\" />\n              {t('addCandidate')}\n            </Button>\n          </PermissionGate>\n        }\n        actions={\n          <PermissionGate permission=\"candidates.create\">\n            <Button onClick={() => navigate('/candidates/new')}>\n              <Plus className=\"me-2 h-4 w-4\" />\n              {t('addCandidate')}\n            </Button>\n          </PermissionGate>\n        }\n      />\n\n      {/* Status Transition Dialog */}\n      {transitionTarget && (\n        <StatusTransitionDialog\n          open={!!transitionTarget}\n          onOpenChange={(open) => { if (!open) setTransitionTarget(null); }}\n          candidateId={transitionTarget.id}\n          currentStatus={transitionTarget.status}\n        />\n      )}\n\n      {/* Delete Confirmation */}\n      <AlertDialog open={!!deleteTarget} onOpenChange={() => setDeleteTarget(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('deleteDialog.title')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('deleteDialog.description')}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('deleteDialog.confirm')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","import { useTranslation } from 'react-i18next';\nimport { Plus, X } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { Input } from '@/shared/components/ui/input';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { PRESET_SKILLS, SKILL_PROFICIENCY_LEVELS } from '../constants';\nimport type { CandidateSkillRequest } from '../types';\n\ninterface SkillsEditorProps {\n  skills: CandidateSkillRequest[];\n  onChange: (skills: CandidateSkillRequest[]) => void;\n}\n\nexport function SkillsEditor({ skills, onChange }: SkillsEditorProps) {\n  const { t } = useTranslation('candidates');\n\n  const addSkill = () => {\n    onChange([...skills, { skillName: '', proficiencyLevel: 'Basic' }]);\n  };\n\n  const removeSkill = (index: number) => {\n    onChange(skills.filter((_, i) => i !== index));\n  };\n\n  const updateSkill = (index: number, field: keyof CandidateSkillRequest, value: string) => {\n    const updated = skills.map((s, i) =>\n      i === index ? { ...s, [field]: value } : s\n    );\n    onChange(updated);\n  };\n\n  // Filter out already-used preset skills\n  const usedSkills = new Set(skills.map((s) => s.skillName));\n\n  return (\n    <div className=\"space-y-3\">\n      {skills.map((skill, index) => (\n        <div key={index} className=\"flex items-center gap-2\">\n          <div className=\"flex-1\">\n            <Select\n              value={PRESET_SKILLS.includes(skill.skillName) ? skill.skillName : '__custom'}\n              onValueChange={(v) => {\n                if (v === '__custom') {\n                  updateSkill(index, 'skillName', '');\n                } else {\n                  updateSkill(index, 'skillName', v);\n                }\n              }}\n            >\n              <SelectTrigger>\n                <SelectValue placeholder={t('skills.selectSkill')} />\n              </SelectTrigger>\n              <SelectContent>\n                {PRESET_SKILLS.filter((s) => !usedSkills.has(s) || s === skill.skillName).map((s) => (\n                  <SelectItem key={s} value={s}>\n                    {t(`skills.presets.${s}`, s)}\n                  </SelectItem>\n                ))}\n                <SelectItem value=\"__custom\">{t('skills.custom')}</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n          {!PRESET_SKILLS.includes(skill.skillName) && skill.skillName !== '' && (\n            <Input\n              className=\"flex-1\"\n              value={skill.skillName}\n              onChange={(e) => updateSkill(index, 'skillName', e.target.value)}\n              placeholder={t('skills.customPlaceholder')}\n            />\n          )}\n          {/* Show custom input if __custom was selected and skillName is empty */}\n          {!PRESET_SKILLS.includes(skill.skillName) && skill.skillName === '' && (\n            <Input\n              className=\"flex-1\"\n              value=\"\"\n              onChange={(e) => updateSkill(index, 'skillName', e.target.value)}\n              placeholder={t('skills.customPlaceholder')}\n            />\n          )}\n          <div className=\"w-40\">\n            <Select\n              value={skill.proficiencyLevel}\n              onValueChange={(v) => updateSkill(index, 'proficiencyLevel', v)}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {SKILL_PROFICIENCY_LEVELS.map((level) => (\n                  <SelectItem key={level} value={level}>\n                    {t(`skills.proficiency.${level}`, level)}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-9 w-9 shrink-0\"\n            onClick={() => removeSkill(index)}\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      ))}\n      <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addSkill}>\n        <Plus className=\"me-1 h-4 w-4\" />\n        {t('skills.add')}\n      </Button>\n    </div>\n  );\n}\n","import { useTranslation } from 'react-i18next';\nimport { Plus, X } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { Input } from '@/shared/components/ui/input';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { PRESET_LANGUAGES, LANGUAGE_PROFICIENCY_LEVELS } from '../constants';\nimport type { CandidateLanguageRequest } from '../types';\n\ninterface LanguagesEditorProps {\n  languages: CandidateLanguageRequest[];\n  onChange: (languages: CandidateLanguageRequest[]) => void;\n}\n\nexport function LanguagesEditor({ languages, onChange }: LanguagesEditorProps) {\n  const { t } = useTranslation('candidates');\n\n  const addLanguage = () => {\n    onChange([...languages, { language: '', proficiencyLevel: 'Basic' }]);\n  };\n\n  const removeLanguage = (index: number) => {\n    onChange(languages.filter((_, i) => i !== index));\n  };\n\n  const updateLanguage = (index: number, field: keyof CandidateLanguageRequest, value: string) => {\n    const updated = languages.map((l, i) =>\n      i === index ? { ...l, [field]: value } : l\n    );\n    onChange(updated);\n  };\n\n  const usedLanguages = new Set(languages.map((l) => l.language));\n\n  return (\n    <div className=\"space-y-3\">\n      {languages.map((lang, index) => (\n        <div key={index} className=\"flex items-center gap-2\">\n          <div className=\"flex-1\">\n            <Select\n              value={PRESET_LANGUAGES.includes(lang.language) ? lang.language : '__custom'}\n              onValueChange={(v) => {\n                if (v === '__custom') {\n                  updateLanguage(index, 'language', '');\n                } else {\n                  updateLanguage(index, 'language', v);\n                }\n              }}\n            >\n              <SelectTrigger>\n                <SelectValue placeholder={t('languages.selectLanguage')} />\n              </SelectTrigger>\n              <SelectContent>\n                {PRESET_LANGUAGES.filter((l) => !usedLanguages.has(l) || l === lang.language).map((l) => (\n                  <SelectItem key={l} value={l}>\n                    {t(`languages.presets.${l}`, l)}\n                  </SelectItem>\n                ))}\n                <SelectItem value=\"__custom\">{t('languages.custom')}</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n          {!PRESET_LANGUAGES.includes(lang.language) && (\n            <Input\n              className=\"flex-1\"\n              value={lang.language}\n              onChange={(e) => updateLanguage(index, 'language', e.target.value)}\n              placeholder={t('languages.customPlaceholder')}\n            />\n          )}\n          <div className=\"w-40\">\n            <Select\n              value={lang.proficiencyLevel}\n              onValueChange={(v) => updateLanguage(index, 'proficiencyLevel', v)}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {LANGUAGE_PROFICIENCY_LEVELS.map((level) => (\n                  <SelectItem key={level} value={level}>\n                    {t(`languages.proficiency.${level}`, level)}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-9 w-9 shrink-0\"\n            onClick={() => removeLanguage(index)}\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      ))}\n      <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addLanguage}>\n        <Plus className=\"me-1 h-4 w-4\" />\n        {t('languages.add')}\n      </Button>\n    </div>\n  );\n}\n","import { useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Upload, X, FileText } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\n\ninterface FileUploadProps {\n  accept: string;\n  maxSizeMB: number;\n  currentUrl?: string;\n  onUpload: (file: File) => Promise<void>;\n  isPending?: boolean;\n  type: 'photo' | 'video' | 'document';\n  /** In deferred mode, calls onFileSelected instead of onUpload. Used on Create page. */\n  mode?: 'immediate' | 'deferred';\n  onFileSelected?: (file: File) => void;\n}\n\nexport function FileUpload({\n  accept,\n  maxSizeMB,\n  currentUrl,\n  onUpload,\n  isPending,\n  type,\n  mode = 'immediate',\n  onFileSelected,\n}: FileUploadProps) {\n  const { t } = useTranslation('candidates');\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [error, setError] = useState('');\n  const [preview, setPreview] = useState<string | null>(null);\n  const [selectedFileName, setSelectedFileName] = useState<string | null>(null);\n\n  const handleChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    setError('');\n\n    if (file.size > maxSizeMB * 1024 * 1024) {\n      setError(t('fileUpload.tooLarge', { max: maxSizeMB }));\n      return;\n    }\n\n    // Show local preview\n    if (type === 'photo') {\n      setPreview(URL.createObjectURL(file));\n    } else if (type === 'document') {\n      setSelectedFileName(file.name);\n    }\n\n    if (mode === 'deferred' && onFileSelected) {\n      onFileSelected(file);\n    } else {\n      try {\n        await onUpload(file);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : t('fileUpload.failed'));\n      }\n    }\n\n    // Reset input so same file can be re-selected\n    if (inputRef.current) inputRef.current.value = '';\n  };\n\n  const clearSelection = () => {\n    setPreview(null);\n    setSelectedFileName(null);\n    if (mode === 'deferred' && onFileSelected) {\n      // Signal parent that file was removed\n      onFileSelected(undefined as unknown as File);\n    }\n  };\n\n  const displayUrl = preview || currentUrl;\n\n  return (\n    <div className=\"space-y-2\">\n      {displayUrl && type === 'photo' && (\n        <div className=\"relative inline-block\">\n          <img\n            src={displayUrl}\n            alt=\"Preview\"\n            className=\"h-32 w-32 rounded-lg object-cover border\"\n          />\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-background shadow\"\n            onClick={clearSelection}\n          >\n            <X className=\"h-3 w-3\" />\n          </Button>\n        </div>\n      )}\n\n      {displayUrl && type === 'video' && (\n        <video\n          src={displayUrl}\n          controls\n          className=\"h-48 max-w-full rounded-lg border\"\n        />\n      )}\n\n      {type === 'document' && (currentUrl || selectedFileName) && (\n        <div className=\"flex items-center gap-2 rounded-lg border p-3\">\n          <FileText className=\"h-5 w-5 text-muted-foreground\" />\n          <span className=\"text-sm truncate flex-1\">\n            {selectedFileName || t('fileUpload.documentUploaded')}\n          </span>\n          {currentUrl && !selectedFileName && (\n            <a\n              href={currentUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-sm text-primary hover:underline\"\n            >\n              {t('fileUpload.viewDocument')}\n            </a>\n          )}\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-6 w-6\"\n            onClick={clearSelection}\n          >\n            <X className=\"h-3 w-3\" />\n          </Button>\n        </div>\n      )}\n\n      <div className=\"flex items-center gap-2\">\n        <input\n          ref={inputRef}\n          type=\"file\"\n          accept={accept}\n          className=\"hidden\"\n          onChange={handleChange}\n        />\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          size=\"sm\"\n          disabled={isPending}\n          onClick={() => inputRef.current?.click()}\n        >\n          <Upload className=\"me-1 h-4 w-4\" />\n          {isPending\n            ? t('fileUpload.uploading')\n            : currentUrl || selectedFileName\n              ? t('fileUpload.replace')\n              : t('fileUpload.upload')}\n        </Button>\n      </div>\n\n      {error && <p className=\"text-sm text-destructive\">{error}</p>}\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { toast } from 'sonner';\nimport { ArrowLeft } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { Input } from '@/shared/components/ui/input';\nimport { Label } from '@/shared/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/components/ui/card';\nimport { NationalitySelect, JobCategorySelect } from '@/features/reference-data';\nimport { useSuppliers } from '@/features/suppliers/hooks';\nimport { useCreateCandidate, useUploadFile } from '../hooks';\nimport {\n  ALL_SOURCE_TYPES,\n  RELIGION_OPTIONS,\n  MARITAL_STATUS_OPTIONS,\n  EDUCATION_LEVEL_OPTIONS,\n} from '../constants';\nimport { SkillsEditor } from '../components/SkillsEditor';\nimport { LanguagesEditor } from '../components/LanguagesEditor';\nimport { FileUpload } from '../components/FileUpload';\nimport type { CandidateSkillRequest, CandidateLanguageRequest } from '../types';\n\nconst initialForm = {\n  fullNameEn: '',\n  fullNameAr: '',\n  nationality: '',\n  dateOfBirth: '',\n  gender: '',\n  passportNumber: '',\n  passportExpiry: '',\n  phone: '',\n  email: '',\n  sourceType: '',\n  tenantSupplierId: '',\n  // Professional Profile\n  religion: '',\n  maritalStatus: '',\n  educationLevel: '',\n  jobCategoryId: '',\n  experienceYears: '',\n  monthlySalary: '',\n  notes: '',\n  externalReference: '',\n};\n\nexport function CreateCandidatePage() {\n  const { t } = useTranslation('candidates');\n  const navigate = useNavigate();\n  const [form, setForm] = useState(initialForm);\n  const [skills, setSkills] = useState<CandidateSkillRequest[]>([]);\n  const [languages, setLanguages] = useState<CandidateLanguageRequest[]>([]);\n  const [photoFileId, setPhotoFileId] = useState<string | null>(null);\n  const [passportFileId, setPassportFileId] = useState<string | null>(null);\n  const createCandidate = useCreateCandidate();\n  const uploadFile = useUploadFile();\n\n  const isSupplierSource = form.sourceType === 'Supplier';\n  const { data: suppliersData } = useSuppliers({ pageSize: 100 });\n\n  const update = (field: string, value: string) => {\n    setForm((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!form.fullNameEn.trim() || !form.sourceType) return;\n    setIsSubmitting(true);\n\n    try {\n      const validSkills = skills.filter((s) => s.skillName.trim());\n      const validLanguages = languages.filter((l) => l.language.trim());\n\n      const result = await createCandidate.mutateAsync({\n        fullNameEn: form.fullNameEn.trim(),\n        fullNameAr: form.fullNameAr.trim() || undefined,\n        nationality: form.nationality || undefined,\n        dateOfBirth: form.dateOfBirth || undefined,\n        gender: form.gender || undefined,\n        passportNumber: form.passportNumber.trim() || undefined,\n        passportExpiry: form.passportExpiry || undefined,\n        phone: form.phone.trim() || undefined,\n        email: form.email.trim() || undefined,\n        sourceType: form.sourceType,\n        tenantSupplierId: isSupplierSource && form.tenantSupplierId ? form.tenantSupplierId : undefined,\n        religion: form.religion || undefined,\n        maritalStatus: form.maritalStatus || undefined,\n        educationLevel: form.educationLevel || undefined,\n        jobCategoryId: form.jobCategoryId || undefined,\n        experienceYears: form.experienceYears ? parseInt(form.experienceYears) : undefined,\n        monthlySalary: form.monthlySalary ? parseFloat(form.monthlySalary) : undefined,\n        skills: validSkills.length > 0 ? validSkills : undefined,\n        languages: validLanguages.length > 0 ? validLanguages : undefined,\n        photoFileId: photoFileId || undefined,\n        passportFileId: passportFileId || undefined,\n        notes: form.notes.trim() || undefined,\n        externalReference: form.externalReference.trim() || undefined,\n      });\n      navigate(`/candidates/${result.id}`);\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Failed to create candidate';\n      toast.error(message);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <Link\n          to=\"/candidates\"\n          className=\"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4\"\n        >\n          <ArrowLeft className=\"h-4 w-4\" />\n          {t('create.backToList')}\n        </Link>\n        <h1 className=\"text-2xl font-bold tracking-tight\">{t('create.title')}</h1>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Personal Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.personal')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fullNameEn\">\n                {t('create.fullNameEn')} <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"fullNameEn\"\n                value={form.fullNameEn}\n                onChange={(e) => update('fullNameEn', e.target.value)}\n                placeholder={t('create.fullNameEnPlaceholder')}\n                required\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fullNameAr\">{t('create.fullNameAr')}</Label>\n              <Input\n                id=\"fullNameAr\"\n                value={form.fullNameAr}\n                onChange={(e) => update('fullNameAr', e.target.value)}\n                placeholder={t('create.fullNameArPlaceholder')}\n                dir=\"rtl\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>\n                {t('create.nationality')}\n              </Label>\n              <NationalitySelect\n                value={form.nationality}\n                onChange={(value) => update('nationality', value)}\n                placeholder={t('create.nationalityPlaceholder')}\n                valueType=\"name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"dateOfBirth\">{t('create.dateOfBirth')}</Label>\n              <Input\n                id=\"dateOfBirth\"\n                type=\"date\"\n                value={form.dateOfBirth}\n                onChange={(e) => update('dateOfBirth', e.target.value)}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.gender')}</Label>\n              <Select value={form.gender} onValueChange={(v) => update('gender', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.genderPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Male\">{t('create.genderOptions.Male')}</SelectItem>\n                  <SelectItem value=\"Female\">{t('create.genderOptions.Female')}</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"passportNumber\">{t('create.passportNumber')}</Label>\n              <Input\n                id=\"passportNumber\"\n                value={form.passportNumber}\n                onChange={(e) => update('passportNumber', e.target.value)}\n                placeholder={t('create.passportNumberPlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"passportExpiry\">{t('create.passportExpiry')}</Label>\n              <Input\n                id=\"passportExpiry\"\n                type=\"date\"\n                value={form.passportExpiry}\n                onChange={(e) => update('passportExpiry', e.target.value)}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Contact Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.contact')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"phone\">{t('create.phone')}</Label>\n              <Input\n                id=\"phone\"\n                value={form.phone}\n                onChange={(e) => update('phone', e.target.value)}\n                placeholder={t('create.phonePlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">{t('create.email')}</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={form.email}\n                onChange={(e) => update('email', e.target.value)}\n                placeholder={t('create.emailPlaceholder')}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Sourcing */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.sourcing')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>\n                {t('create.sourceType')} <span className=\"text-destructive\">*</span>\n              </Label>\n              <Select value={form.sourceType} onValueChange={(v) => {\n                update('sourceType', v);\n                if (v !== 'Supplier') update('tenantSupplierId', '');\n              }}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.sourceTypePlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {ALL_SOURCE_TYPES.map((st) => (\n                    <SelectItem key={st} value={st}>\n                      {t(`sourceType.${st}`)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            {isSupplierSource && (\n              <div className=\"space-y-2\">\n                <Label>{t('create.supplier')}</Label>\n                <Select value={form.tenantSupplierId} onValueChange={(v) => update('tenantSupplierId', v)}>\n                  <SelectTrigger>\n                    <SelectValue placeholder={t('create.supplierPlaceholder')} />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {suppliersData?.items?.map((ts) => (\n                      <SelectItem key={ts.id} value={ts.id}>\n                        {ts.supplier?.nameEn ?? ts.id}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Professional Profile */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.professional')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>{t('create.religion')}</Label>\n              <Select value={form.religion} onValueChange={(v) => update('religion', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.religionPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {RELIGION_OPTIONS.map((r) => (\n                    <SelectItem key={r} value={r}>\n                      {t(`professional.religion.${r}`, r)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.maritalStatus')}</Label>\n              <Select value={form.maritalStatus} onValueChange={(v) => update('maritalStatus', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.maritalStatusPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {MARITAL_STATUS_OPTIONS.map((m) => (\n                    <SelectItem key={m} value={m}>\n                      {t(`professional.maritalStatus.${m}`, m)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.educationLevel')}</Label>\n              <Select value={form.educationLevel} onValueChange={(v) => update('educationLevel', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.educationLevelPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {EDUCATION_LEVEL_OPTIONS.map((e) => (\n                    <SelectItem key={e} value={e}>\n                      {t(`professional.educationLevel.${e}`, e)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.jobCategory')}</Label>\n              <JobCategorySelect\n                value={form.jobCategoryId}\n                onChange={(value) => update('jobCategoryId', value)}\n                placeholder={t('create.jobCategoryPlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"experienceYears\">{t('create.experienceYears')}</Label>\n              <Input\n                id=\"experienceYears\"\n                type=\"number\"\n                min=\"0\"\n                max=\"50\"\n                value={form.experienceYears}\n                onChange={(e) => update('experienceYears', e.target.value)}\n                placeholder={t('create.experienceYearsPlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"monthlySalary\">{t('create.monthlySalary')}</Label>\n              <Input\n                id=\"monthlySalary\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={form.monthlySalary}\n                onChange={(e) => update('monthlySalary', e.target.value)}\n                placeholder={t('create.monthlySalaryPlaceholder')}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Skills */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.skills')}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <SkillsEditor skills={skills} onChange={setSkills} />\n          </CardContent>\n        </Card>\n\n        {/* Languages */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.languages')}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <LanguagesEditor languages={languages} onChange={setLanguages} />\n          </CardContent>\n        </Card>\n\n        {/* Media Uploads */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.media')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-6 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>{t('create.photo')}</Label>\n              <FileUpload\n                accept=\"image/jpeg,image/png,image/webp\"\n                maxSizeMB={5}\n                type=\"photo\"\n                isPending={uploadFile.isPending}\n                onUpload={async (file) => {\n                  const result = await uploadFile.mutateAsync({ file, fileType: 'photo' });\n                  setPhotoFileId(result.id);\n                }}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.passport')}</Label>\n              <FileUpload\n                accept=\"application/pdf,image/jpeg,image/png\"\n                maxSizeMB={10}\n                type=\"document\"\n                isPending={uploadFile.isPending}\n                onUpload={async (file) => {\n                  const result = await uploadFile.mutateAsync({ file, fileType: 'passport' });\n                  setPassportFileId(result.id);\n                }}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Additional */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.additional')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"externalReference\">{t('create.externalReference')}</Label>\n              <Input\n                id=\"externalReference\"\n                value={form.externalReference}\n                onChange={(e) => update('externalReference', e.target.value)}\n                placeholder={t('create.externalReferencePlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2 sm:col-span-2\">\n              <Label htmlFor=\"notes\">{t('create.notes')}</Label>\n              <textarea\n                id=\"notes\"\n                className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                value={form.notes}\n                onChange={(e) => update('notes', e.target.value)}\n                placeholder={t('create.notesPlaceholder')}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Submit */}\n        <div className=\"flex justify-end gap-3\">\n          <Button type=\"button\" variant=\"outline\" onClick={() => navigate('/candidates')}>\n            {t('common:cancel')}\n          </Button>\n          <Button\n            type=\"submit\"\n            disabled={!form.fullNameEn.trim() || !form.sourceType || isSubmitting}\n          >\n            {isSubmitting ? t('create.submitting') : t('create.submit')}\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { useTranslation } from 'react-i18next';\nimport { StatusBadge } from './StatusBadge';\nimport { STATUS_CONFIG } from '../constants';\nimport type { CandidateStatusHistoryDto } from '../types';\n\ninterface StatusTimelineProps {\n  history: CandidateStatusHistoryDto[];\n}\n\nexport function StatusTimeline({ history }: StatusTimelineProps) {\n  const { t } = useTranslation('candidates');\n\n  if (!history || history.length === 0) {\n    return null;\n  }\n\n  const sorted = [...history].sort(\n    (a, b) => new Date(b.changedAt).getTime() - new Date(a.changedAt).getTime()\n  );\n\n  return (\n    <div className=\"space-y-4\">\n      {sorted.map((entry, index) => {\n        const config = STATUS_CONFIG[entry.toStatus];\n        const Icon = config?.icon;\n        const isFirst = index === sorted.length - 1;\n\n        return (\n          <div key={entry.id} className=\"flex gap-4\">\n            {/* Timeline line + dot */}\n            <div className=\"flex flex-col items-center\">\n              <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-full border-2 bg-background\">\n                {Icon && <Icon className=\"h-4 w-4 text-muted-foreground\" />}\n              </div>\n              {index < sorted.length - 1 && (\n                <div className=\"w-px flex-1 bg-border\" />\n              )}\n            </div>\n\n            {/* Content */}\n            <div className=\"pb-6 pt-1\">\n              <div className=\"flex items-center gap-2\">\n                {isFirst && !entry.fromStatus ? (\n                  <p className=\"text-sm font-medium\">{t('timeline.initialStatus')}</p>\n                ) : (\n                  <p className=\"text-sm font-medium\">\n                    {t('timeline.changedTo')}{' '}\n                    <StatusBadge status={entry.toStatus} />\n                  </p>\n                )}\n              </div>\n              <p className=\"mt-1 text-xs text-muted-foreground\">\n                {new Date(entry.changedAt).toLocaleString()}\n              </p>\n              {entry.reason && (\n                <p className=\"mt-1 text-sm text-muted-foreground\">\n                  <span className=\"font-medium\">{t('timeline.reason')}:</span> {entry.reason}\n                </p>\n              )}\n              {entry.notes && (\n                <p className=\"mt-1 text-sm text-muted-foreground\">{entry.notes}</p>\n              )}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { ArrowLeft, RefreshCw, Trash2, Pencil, ImageOff, FileText, VideoOff } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/components/ui/card';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { Skeleton } from '@/shared/components/ui/skeleton';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/shared/components/ui/tabs';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/shared/components/ui/alert-dialog';\nimport { useCountryRefs, getFlagEmoji } from '@/features/reference-data';\nimport { useCandidate, useDeleteCandidate } from '../hooks';\nimport { StatusBadge } from '../components/StatusBadge';\nimport { StatusTransitionDialog } from '../components/StatusTransitionDialog';\nimport { StatusTimeline } from '../components/StatusTimeline';\nimport { ALLOWED_TRANSITIONS } from '../constants';\n\nfunction InfoItem({ label, value }: { label: string; value?: string | number | null }) {\n  return (\n    <div>\n      <p className=\"text-sm text-muted-foreground\">{label}</p>\n      <p className=\"font-medium\">{value != null && value !== '' ? String(value) : '—'}</p>\n    </div>\n  );\n}\n\nfunction DetailSkeleton() {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <Skeleton className=\"h-4 w-32 mb-4\" />\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <Skeleton className=\"h-8 w-64\" />\n            <Skeleton className=\"h-6 w-24\" />\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-9 w-32\" />\n            <Skeleton className=\"h-9 w-32\" />\n          </div>\n        </div>\n      </div>\n      <Skeleton className=\"h-10 w-96\" />\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        <Card>\n          <CardHeader>\n            <Skeleton className=\"h-6 w-40\" />\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            {Array.from({ length: 6 }).map((_, i) => (\n              <div key={i}>\n                <Skeleton className=\"h-4 w-24 mb-1\" />\n                <Skeleton className=\"h-5 w-40\" />\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader>\n            <Skeleton className=\"h-6 w-36\" />\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            {Array.from({ length: 2 }).map((_, i) => (\n              <div key={i}>\n                <Skeleton className=\"h-4 w-24 mb-1\" />\n                <Skeleton className=\"h-5 w-40\" />\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader>\n            <Skeleton className=\"h-6 w-36\" />\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            {Array.from({ length: 3 }).map((_, i) => (\n              <div key={i}>\n                <Skeleton className=\"h-4 w-24 mb-1\" />\n                <Skeleton className=\"h-5 w-40\" />\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n\nexport function CandidateDetailPage() {\n  const { t } = useTranslation('candidates');\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n\n  const { data: candidate, isLoading } = useCandidate(id!);\n  const { data: countries } = useCountryRefs();\n  const deleteMutation = useDeleteCandidate();\n\n  const [showTransition, setShowTransition] = useState(false);\n  const [showDelete, setShowDelete] = useState(false);\n\n  const getCountryDisplay = (code?: string) => {\n    if (!code) return undefined;\n    const country = countries?.find((c) => c.code === code || c.nameEn === code);\n    if (country) return `${getFlagEmoji(country.code)} ${country.nameEn}`;\n    return code;\n  };\n\n  const handleDelete = async () => {\n    if (!id) return;\n    await deleteMutation.mutateAsync(id);\n    navigate('/candidates');\n  };\n\n  if (isLoading) {\n    return <DetailSkeleton />;\n  }\n\n  if (!candidate) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[40vh]\">\n        <p className=\"text-muted-foreground\">{t('common:noResults')}</p>\n      </div>\n    );\n  }\n\n  const isEditable = candidate.status === 'Received' || candidate.status === 'UnderReview';\n  const hasTransitions = (ALLOWED_TRANSITIONS[candidate.status]?.length ?? 0) > 0;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <Link\n          to=\"/candidates\"\n          className=\"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4\"\n        >\n          <ArrowLeft className=\"h-4 w-4\" />\n          {t('detail.backToList')}\n        </Link>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            {candidate.photoUrl && (\n              <img\n                src={candidate.photoUrl}\n                alt={candidate.fullNameEn}\n                className=\"h-12 w-12 rounded-full object-cover border\"\n              />\n            )}\n            <h1 className=\"text-2xl font-bold tracking-tight\">{candidate.fullNameEn}</h1>\n            <StatusBadge status={candidate.status} />\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {isEditable && (\n              <Button variant=\"outline\" onClick={() => navigate(`/candidates/${id}/edit`)}>\n                <Pencil className=\"me-2 h-4 w-4\" />\n                {t('actions.edit')}\n              </Button>\n            )}\n            {hasTransitions && (\n              <Button variant=\"outline\" onClick={() => setShowTransition(true)}>\n                <RefreshCw className=\"me-2 h-4 w-4\" />\n                {t('actions.changeStatus')}\n              </Button>\n            )}\n            <Button\n              variant=\"destructive\"\n              onClick={() => setShowDelete(true)}\n            >\n              <Trash2 className=\"me-2 h-4 w-4\" />\n              {t('actions.delete')}\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <Tabs defaultValue=\"overview\" className=\"space-y-6\">\n        <TabsList>\n          <TabsTrigger value=\"overview\">{t('tabs.overview')}</TabsTrigger>\n          <TabsTrigger value=\"professional\">{t('tabs.professional')}</TabsTrigger>\n          <TabsTrigger value=\"documentsOperations\">{t('tabs.documentsOperations')}</TabsTrigger>\n          <TabsTrigger value=\"statusHistory\">\n            {t('tabs.statusHistory')}\n            {candidate.statusHistory && (\n              <Badge variant=\"secondary\" className=\"ms-2\">\n                {candidate.statusHistory.length}\n              </Badge>\n            )}\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Overview Tab */}\n        <TabsContent value=\"overview\" className=\"space-y-6\">\n          <div className=\"grid gap-6 md:grid-cols-2\">\n            {/* Personal */}\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.personal')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.fullNameEn')} value={candidate.fullNameEn} />\n                <InfoItem label={t('detail.fullNameAr')} value={candidate.fullNameAr} />\n                <InfoItem label={t('detail.nationality')} value={getCountryDisplay(candidate.nationality)} />\n                <InfoItem label={t('detail.dateOfBirth')} value={candidate.dateOfBirth} />\n                <InfoItem label={t('detail.gender')} value={candidate.gender} />\n                <InfoItem label={t('detail.passportNumber')} value={candidate.passportNumber} />\n                <InfoItem label={t('detail.passportExpiry')} value={candidate.passportExpiry} />\n              </CardContent>\n            </Card>\n\n            {/* Contact */}\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.contact')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.phone')} value={candidate.phone} />\n                <InfoItem label={t('detail.email')} value={candidate.email} />\n              </CardContent>\n            </Card>\n\n            {/* Sourcing */}\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.sourcing')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.sourceType')} value={t(`sourceType.${candidate.sourceType}`)} />\n                <InfoItem label={t('detail.supplier')} value={candidate.supplier?.name} />\n                <InfoItem label={t('detail.externalReference')} value={candidate.externalReference} />\n              </CardContent>\n            </Card>\n\n            {/* Media & Documents */}\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.media')}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-6 sm:grid-cols-3\">\n                  {/* Photo */}\n                  <div>\n                    <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.photo')}</p>\n                    {candidate.photoUrl ? (\n                      <img\n                        src={candidate.photoUrl}\n                        alt={candidate.fullNameEn}\n                        className=\"h-40 w-40 rounded-lg object-cover border\"\n                      />\n                    ) : (\n                      <div className=\"h-40 w-40 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                        <ImageOff className=\"h-8 w-8 text-muted-foreground/50\" />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Video */}\n                  <div>\n                    <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.video')}</p>\n                    {candidate.videoUrl ? (\n                      <video\n                        src={candidate.videoUrl}\n                        controls\n                        className=\"h-40 max-w-full rounded-lg border\"\n                      />\n                    ) : (\n                      <div className=\"h-40 w-40 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                        <VideoOff className=\"h-8 w-8 text-muted-foreground/50\" />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Passport Document */}\n                  <div>\n                    <p className=\"text-sm text-muted-foreground mb-2\">{t('detail.passportDocument')}</p>\n                    {candidate.passportDocumentUrl ? (\n                      <a\n                        href={candidate.passportDocumentUrl}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"h-40 w-40 rounded-lg border flex flex-col items-center justify-center gap-2 hover:bg-muted/50 transition-colors\"\n                      >\n                        <FileText className=\"h-10 w-10 text-primary\" />\n                        <span className=\"text-sm text-primary font-medium\">{t('detail.viewPassportDocument')}</span>\n                      </a>\n                    ) : (\n                      <div className=\"h-40 w-40 rounded-lg border border-dashed flex items-center justify-center bg-muted/30\">\n                        <FileText className=\"h-8 w-8 text-muted-foreground/50\" />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Professional Profile Tab */}\n        <TabsContent value=\"professional\" className=\"space-y-6\">\n          <div className=\"grid gap-6 md:grid-cols-2\">\n            {/* Profile Details */}\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.professionalProfile')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.religion')} value={candidate.religion ? t(`professional.religion.${candidate.religion}`, candidate.religion) : undefined} />\n                <InfoItem label={t('detail.maritalStatus')} value={candidate.maritalStatus ? t(`professional.maritalStatus.${candidate.maritalStatus}`, candidate.maritalStatus) : undefined} />\n                <InfoItem label={t('detail.educationLevel')} value={candidate.educationLevel ? t(`professional.educationLevel.${candidate.educationLevel}`, candidate.educationLevel) : undefined} />\n                <InfoItem label={t('detail.jobCategory')} value={candidate.jobCategory?.name} />\n                <InfoItem label={t('detail.experienceYears')} value={candidate.experienceYears} />\n                <InfoItem label={t('detail.monthlySalary')} value={candidate.monthlySalary ? `${candidate.monthlySalary} AED` : undefined} />\n              </CardContent>\n            </Card>\n\n            {/* Skills */}\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.skills')}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                {candidate.skills && candidate.skills.length > 0 ? (\n                  <div className=\"flex flex-wrap gap-2\">\n                    {candidate.skills.map((skill) => (\n                      <Badge key={skill.id} variant=\"outline\">\n                        {skill.skillName} — {t(`skills.proficiency.${skill.proficiencyLevel}`, skill.proficiencyLevel)}\n                      </Badge>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground\">—</p>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Languages */}\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.languages')}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                {candidate.languages && candidate.languages.length > 0 ? (\n                  <div className=\"flex flex-wrap gap-2\">\n                    {candidate.languages.map((lang) => (\n                      <Badge key={lang.id} variant=\"outline\">\n                        {lang.language} — {t(`languages.proficiency.${lang.proficiencyLevel}`, lang.proficiencyLevel)}\n                      </Badge>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-muted-foreground\">—</p>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Documents & Operations Tab */}\n        <TabsContent value=\"documentsOperations\" className=\"space-y-6\">\n          <div className=\"grid gap-6 md:grid-cols-2\">\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.operational')}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n                <InfoItem label={t('detail.createdAt')} value={new Date(candidate.createdAt).toLocaleString()} />\n                <InfoItem label={t('detail.updatedAt')} value={new Date(candidate.updatedAt).toLocaleString()} />\n                <div className=\"sm:col-span-2\">\n                  <InfoItem label={t('detail.notes')} value={candidate.notes} />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Status History Tab */}\n        <TabsContent value=\"statusHistory\" className=\"space-y-6\">\n          {candidate.statusHistory && candidate.statusHistory.length > 0 ? (\n            <Card>\n              <CardHeader>\n                <CardTitle>{t('detail.statusHistory')}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <StatusTimeline history={candidate.statusHistory} />\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"flex items-center justify-center min-h-[20vh]\">\n              <p className=\"text-muted-foreground\">{t('detail.notAvailable')}</p>\n            </div>\n          )}\n        </TabsContent>\n      </Tabs>\n\n      {/* Status Transition Dialog */}\n      <StatusTransitionDialog\n        open={showTransition}\n        onOpenChange={setShowTransition}\n        candidateId={candidate.id}\n        currentStatus={candidate.status}\n      />\n\n      {/* Delete Confirmation */}\n      <AlertDialog open={showDelete} onOpenChange={setShowDelete}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('deleteDialog.title')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('deleteDialog.description')}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('deleteDialog.confirm')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { toast } from 'sonner';\nimport { ArrowLeft } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { Input } from '@/shared/components/ui/input';\nimport { Label } from '@/shared/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/shared/components/ui/card';\nimport { Skeleton } from '@/shared/components/ui/skeleton';\nimport { NationalitySelect, JobCategorySelect } from '@/features/reference-data';\nimport { useSuppliers } from '@/features/suppliers/hooks';\nimport { useCandidate, useUpdateCandidate, useUploadPhoto, useUploadVideo, useUploadPassport } from '../hooks';\nimport {\n  ALL_SOURCE_TYPES,\n  RELIGION_OPTIONS,\n  MARITAL_STATUS_OPTIONS,\n  EDUCATION_LEVEL_OPTIONS,\n} from '../constants';\nimport { SkillsEditor } from '../components/SkillsEditor';\nimport { LanguagesEditor } from '../components/LanguagesEditor';\nimport { FileUpload } from '../components/FileUpload';\nimport type { CandidateSkillRequest, CandidateLanguageRequest } from '../types';\n\nexport function EditCandidatePage() {\n  const { t } = useTranslation('candidates');\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n\n  const { data: candidate, isLoading } = useCandidate(id!);\n  const updateCandidate = useUpdateCandidate();\n  const uploadPhoto = useUploadPhoto();\n  const uploadVideo = useUploadVideo();\n  const uploadPassport = useUploadPassport();\n\n  const [form, setForm] = useState({\n    fullNameEn: '',\n    fullNameAr: '',\n    nationality: '',\n    dateOfBirth: '',\n    gender: '',\n    passportNumber: '',\n    passportExpiry: '',\n    phone: '',\n    email: '',\n    sourceType: '',\n    tenantSupplierId: '',\n    religion: '',\n    maritalStatus: '',\n    educationLevel: '',\n    jobCategoryId: '',\n    experienceYears: '',\n    monthlySalary: '',\n    notes: '',\n    externalReference: '',\n  });\n  const [skills, setSkills] = useState<CandidateSkillRequest[]>([]);\n  const [languages, setLanguages] = useState<CandidateLanguageRequest[]>([]);\n  const [initialized, setInitialized] = useState(false);\n\n  const isSupplierSource = form.sourceType === 'Supplier';\n  const { data: suppliersData } = useSuppliers({ pageSize: 100 });\n\n  // Pre-populate form when candidate loads\n  useEffect(() => {\n    if (candidate && !initialized) {\n      setForm({\n        fullNameEn: candidate.fullNameEn || '',\n        fullNameAr: candidate.fullNameAr || '',\n        nationality: candidate.nationality || '',\n        dateOfBirth: candidate.dateOfBirth || '',\n        gender: candidate.gender || '',\n        passportNumber: candidate.passportNumber || '',\n        passportExpiry: candidate.passportExpiry || '',\n        phone: candidate.phone || '',\n        email: candidate.email || '',\n        sourceType: candidate.sourceType || '',\n        tenantSupplierId: candidate.tenantSupplierId || '',\n        religion: candidate.religion || '',\n        maritalStatus: candidate.maritalStatus || '',\n        educationLevel: candidate.educationLevel || '',\n        jobCategoryId: candidate.jobCategory?.id || candidate.jobCategoryId || '',\n        experienceYears: candidate.experienceYears?.toString() || '',\n        monthlySalary: candidate.monthlySalary?.toString() || '',\n        notes: candidate.notes || '',\n        externalReference: candidate.externalReference || '',\n      });\n      setSkills(\n        candidate.skills?.map((s) => ({\n          skillName: s.skillName,\n          proficiencyLevel: s.proficiencyLevel,\n        })) ?? []\n      );\n      setLanguages(\n        candidate.languages?.map((l) => ({\n          language: l.language,\n          proficiencyLevel: l.proficiencyLevel,\n        })) ?? []\n      );\n      setInitialized(true);\n    }\n  }, [candidate, initialized]);\n\n  const update = (field: string, value: string) => {\n    setForm((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!id || !form.fullNameEn.trim()) return;\n\n    try {\n      const validSkills = skills.filter((s) => s.skillName.trim());\n      const validLanguages = languages.filter((l) => l.language.trim());\n\n      await updateCandidate.mutateAsync({\n        id,\n        data: {\n          fullNameEn: form.fullNameEn.trim(),\n          fullNameAr: form.fullNameAr.trim() || undefined,\n          nationality: form.nationality || undefined,\n          dateOfBirth: form.dateOfBirth || undefined,\n          gender: form.gender || undefined,\n          passportNumber: form.passportNumber.trim() || undefined,\n          passportExpiry: form.passportExpiry || undefined,\n          phone: form.phone.trim() || undefined,\n          email: form.email.trim() || undefined,\n          sourceType: form.sourceType || undefined,\n          tenantSupplierId: isSupplierSource && form.tenantSupplierId ? form.tenantSupplierId : undefined,\n          religion: form.religion || undefined,\n          maritalStatus: form.maritalStatus || undefined,\n          educationLevel: form.educationLevel || undefined,\n          jobCategoryId: form.jobCategoryId || undefined,\n          experienceYears: form.experienceYears ? parseInt(form.experienceYears) : undefined,\n          monthlySalary: form.monthlySalary ? parseFloat(form.monthlySalary) : undefined,\n          skills: validSkills,\n          languages: validLanguages,\n          notes: form.notes.trim() || undefined,\n          externalReference: form.externalReference.trim() || undefined,\n        },\n      });\n      navigate(`/candidates/${id}`);\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Failed to update candidate';\n      toast.error(message);\n    }\n  };\n\n  if (isLoading || !initialized) {\n    return (\n      <div className=\"space-y-6\">\n        <Skeleton className=\"h-4 w-32 mb-4\" />\n        <Skeleton className=\"h-8 w-64\" />\n        <Skeleton className=\"h-64 w-full\" />\n      </div>\n    );\n  }\n\n  if (!candidate) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[40vh]\">\n        <p className=\"text-muted-foreground\">{t('common:noResults')}</p>\n      </div>\n    );\n  }\n\n  const isEditable = candidate.status === 'Received' || candidate.status === 'UnderReview';\n  if (!isEditable) {\n    navigate(`/candidates/${id}`);\n    return null;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <Link\n          to={`/candidates/${id}`}\n          className=\"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4\"\n        >\n          <ArrowLeft className=\"h-4 w-4\" />\n          {t('edit.backToDetail')}\n        </Link>\n        <h1 className=\"text-2xl font-bold tracking-tight\">{t('edit.title')}</h1>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Personal Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.personal')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fullNameEn\">\n                {t('create.fullNameEn')} <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"fullNameEn\"\n                value={form.fullNameEn}\n                onChange={(e) => update('fullNameEn', e.target.value)}\n                placeholder={t('create.fullNameEnPlaceholder')}\n                required\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"fullNameAr\">{t('create.fullNameAr')}</Label>\n              <Input\n                id=\"fullNameAr\"\n                value={form.fullNameAr}\n                onChange={(e) => update('fullNameAr', e.target.value)}\n                placeholder={t('create.fullNameArPlaceholder')}\n                dir=\"rtl\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.nationality')}</Label>\n              <NationalitySelect\n                value={form.nationality}\n                onChange={(value) => update('nationality', value)}\n                placeholder={t('create.nationalityPlaceholder')}\n                valueType=\"name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"dateOfBirth\">{t('create.dateOfBirth')}</Label>\n              <Input\n                id=\"dateOfBirth\"\n                type=\"date\"\n                value={form.dateOfBirth}\n                onChange={(e) => update('dateOfBirth', e.target.value)}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.gender')}</Label>\n              <Select value={form.gender} onValueChange={(v) => update('gender', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.genderPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Male\">{t('create.genderOptions.Male')}</SelectItem>\n                  <SelectItem value=\"Female\">{t('create.genderOptions.Female')}</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"passportNumber\">{t('create.passportNumber')}</Label>\n              <Input\n                id=\"passportNumber\"\n                value={form.passportNumber}\n                onChange={(e) => update('passportNumber', e.target.value)}\n                placeholder={t('create.passportNumberPlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"passportExpiry\">{t('create.passportExpiry')}</Label>\n              <Input\n                id=\"passportExpiry\"\n                type=\"date\"\n                value={form.passportExpiry}\n                onChange={(e) => update('passportExpiry', e.target.value)}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Contact Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.contact')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"phone\">{t('create.phone')}</Label>\n              <Input\n                id=\"phone\"\n                value={form.phone}\n                onChange={(e) => update('phone', e.target.value)}\n                placeholder={t('create.phonePlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">{t('create.email')}</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={form.email}\n                onChange={(e) => update('email', e.target.value)}\n                placeholder={t('create.emailPlaceholder')}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Sourcing */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.sourcing')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>{t('create.sourceType')}</Label>\n              <Select value={form.sourceType} onValueChange={(v) => {\n                update('sourceType', v);\n                if (v !== 'Supplier') update('tenantSupplierId', '');\n              }}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.sourceTypePlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {ALL_SOURCE_TYPES.map((st) => (\n                    <SelectItem key={st} value={st}>\n                      {t(`sourceType.${st}`)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            {isSupplierSource && (\n              <div className=\"space-y-2\">\n                <Label>{t('create.supplier')}</Label>\n                <Select value={form.tenantSupplierId} onValueChange={(v) => update('tenantSupplierId', v)}>\n                  <SelectTrigger>\n                    <SelectValue placeholder={t('create.supplierPlaceholder')} />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {suppliersData?.items?.map((ts) => (\n                      <SelectItem key={ts.id} value={ts.id}>\n                        {ts.supplier?.nameEn ?? ts.id}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Professional Profile */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.professional')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>{t('create.religion')}</Label>\n              <Select value={form.religion} onValueChange={(v) => update('religion', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.religionPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {RELIGION_OPTIONS.map((r) => (\n                    <SelectItem key={r} value={r}>\n                      {t(`professional.religion.${r}`, r)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.maritalStatus')}</Label>\n              <Select value={form.maritalStatus} onValueChange={(v) => update('maritalStatus', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.maritalStatusPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {MARITAL_STATUS_OPTIONS.map((m) => (\n                    <SelectItem key={m} value={m}>\n                      {t(`professional.maritalStatus.${m}`, m)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.educationLevel')}</Label>\n              <Select value={form.educationLevel} onValueChange={(v) => update('educationLevel', v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('create.educationLevelPlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {EDUCATION_LEVEL_OPTIONS.map((e) => (\n                    <SelectItem key={e} value={e}>\n                      {t(`professional.educationLevel.${e}`, e)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('create.jobCategory')}</Label>\n              <JobCategorySelect\n                value={form.jobCategoryId}\n                onChange={(value) => update('jobCategoryId', value)}\n                placeholder={t('create.jobCategoryPlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"experienceYears\">{t('create.experienceYears')}</Label>\n              <Input\n                id=\"experienceYears\"\n                type=\"number\"\n                min=\"0\"\n                max=\"50\"\n                value={form.experienceYears}\n                onChange={(e) => update('experienceYears', e.target.value)}\n                placeholder={t('create.experienceYearsPlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"monthlySalary\">{t('create.monthlySalary')}</Label>\n              <Input\n                id=\"monthlySalary\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={form.monthlySalary}\n                onChange={(e) => update('monthlySalary', e.target.value)}\n                placeholder={t('create.monthlySalaryPlaceholder')}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Skills */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.skills')}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <SkillsEditor skills={skills} onChange={setSkills} />\n          </CardContent>\n        </Card>\n\n        {/* Languages */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.languages')}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <LanguagesEditor languages={languages} onChange={setLanguages} />\n          </CardContent>\n        </Card>\n\n        {/* Media Uploads */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('edit.sections.media')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-6 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label>{t('edit.photo')}</Label>\n              <FileUpload\n                accept=\"image/jpeg,image/png,image/webp\"\n                maxSizeMB={5}\n                currentUrl={candidate.photoUrl}\n                onUpload={async (file) => {\n                  await uploadPhoto.mutateAsync({ id: id!, file });\n                }}\n                isPending={uploadPhoto.isPending}\n                type=\"photo\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('edit.video')}</Label>\n              <FileUpload\n                accept=\"video/mp4,video/webm\"\n                maxSizeMB={50}\n                currentUrl={candidate.videoUrl}\n                onUpload={async (file) => {\n                  await uploadVideo.mutateAsync({ id: id!, file });\n                }}\n                isPending={uploadVideo.isPending}\n                type=\"video\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>{t('edit.passport')}</Label>\n              <FileUpload\n                accept=\"application/pdf,image/jpeg,image/png\"\n                maxSizeMB={10}\n                currentUrl={candidate.passportDocumentUrl}\n                onUpload={async (file) => {\n                  await uploadPassport.mutateAsync({ id: id!, file });\n                }}\n                isPending={uploadPassport.isPending}\n                type=\"document\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Additional */}\n        <Card>\n          <CardHeader>\n            <CardTitle>{t('create.sections.additional')}</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"externalReference\">{t('create.externalReference')}</Label>\n              <Input\n                id=\"externalReference\"\n                value={form.externalReference}\n                onChange={(e) => update('externalReference', e.target.value)}\n                placeholder={t('create.externalReferencePlaceholder')}\n              />\n            </div>\n            <div className=\"space-y-2 sm:col-span-2\">\n              <Label htmlFor=\"notes\">{t('create.notes')}</Label>\n              <textarea\n                id=\"notes\"\n                className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                value={form.notes}\n                onChange={(e) => update('notes', e.target.value)}\n                placeholder={t('create.notesPlaceholder')}\n              />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Submit */}\n        <div className=\"flex justify-end gap-3\">\n          <Button type=\"button\" variant=\"outline\" onClick={() => navigate(`/candidates/${id}`)}>\n            {t('common:cancel')}\n          </Button>\n          <Button\n            type=\"submit\"\n            disabled={!form.fullNameEn.trim() || updateCandidate.isPending}\n          >\n            {updateCandidate.isPending ? t('edit.submitting') : t('edit.submit')}\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":["JobCategorySelect","value","onChange","disabled","placeholder","showCode","className","error","id","name","categories","isLoading","isError","useJobCategoryRefs","handleChange","newValue","category","c","selectedCategory","jsx","Skeleton","Select","SelectTrigger","SelectValue","jsxs","SelectContent","SelectItem","NationalitySelect","commonOnly","showFlag","valueType","commonQuery","useCommonNationalities","allQuery","useCountryRefs","countries","getCountryValue","country","selectedCountry","getFlagEmoji","tenantPath","path","getTenantId","listCandidates","params","apiClient","getCandidate","createCandidate","data","updateCandidate","transitionStatus","deleteCandidate","authenticatedUpload","file","errorMsg","tenantId","formData","token","getAccessToken","res","API_BASE","body","json","uploadCandidatePhoto","uploadCandidateVideo","uploadCandidatePassport","uploadFile","fileType","CANDIDATES_KEY","useCandidates","useQuery","api.listCandidates","useCandidate","api.getCandidate","useCreateCandidate","queryClient","useQueryClient","useMutation","api.createCandidate","useUpdateCandidate","api.updateCandidate","useTransitionStatus","api.transitionStatus","useDeleteCandidate","api.deleteCandidate","useUploadPhoto","api.uploadCandidatePhoto","useUploadVideo","api.uploadCandidateVideo","useUploadPassport","api.uploadCandidatePassport","useUploadFile","api.uploadFile","STATUS_CONFIG","Clock","Search","CheckCircle","XCircle","Ban","ALL_STATUSES","ALL_SOURCE_TYPES","ALLOWED_TRANSITIONS","PRESET_SKILLS","PRESET_LANGUAGES","SKILL_PROFICIENCY_LEVELS","LANGUAGE_PROFICIENCY_LEVELS","RELIGION_OPTIONS","MARITAL_STATUS_OPTIONS","EDUCATION_LEVEL_OPTIONS","StatusBadge","status","showIcon","t","useTranslation","config","Badge","Icon","REASON_REQUIRED_STATUSES","StatusTransitionDialog","open","onOpenChange","candidateId","currentStatus","targetStatus","setTargetStatus","useState","reason","setReason","notes","setNotes","transition","needsReason","canSubmit","availableStatuses","handleSubmit","handleOpenChange","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","e","DialogFooter","Button","CandidatesPage","navigate","useNavigate","hasPermission","usePermissions","search","setSearch","page","setPage","pageSize","setPageSize","selectedIds","setSelectedIds","statusFilter","setStatusFilter","sourceTypeFilter","setSourceTypeFilter","deleteTarget","setDeleteTarget","transitionTarget","setTransitionTarget","queryParams","useMemo","refetch","deleteMutation","getCountryName","code","handleDelete","filters","s","handleFilterChange","key","columns","row","_a","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","DropdownMenuItem","Eye","RefreshCw","Fragment","DropdownMenuSeparator","Trash2","DataTableAdvanced","val","PermissionGate","Plus","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","SkillsEditor","skills","addSkill","removeSkill","index","_","i","updateSkill","field","updated","usedSkills","skill","v","Input","level","X","LanguagesEditor","languages","addLanguage","removeLanguage","updateLanguage","l","usedLanguages","lang","FileUpload","accept","maxSizeMB","currentUrl","onUpload","isPending","type","mode","onFileSelected","inputRef","useRef","setError","preview","setPreview","selectedFileName","setSelectedFileName","err","clearSelection","displayUrl","FileText","Upload","initialForm","CreateCandidatePage","form","setForm","setSkills","setLanguages","photoFileId","setPhotoFileId","passportFileId","setPassportFileId","isSupplierSource","suppliersData","useSuppliers","update","prev","isSubmitting","setIsSubmitting","validSkills","validLanguages","result","message","toast","Link","ArrowLeft","Card","CardHeader","CardTitle","CardContent","st","ts","m","StatusTimeline","history","sorted","b","entry","isFirst","InfoItem","label","DetailSkeleton","CandidateDetailPage","useParams","candidate","showTransition","setShowTransition","showDelete","setShowDelete","getCountryDisplay","isEditable","hasTransitions","Pencil","Tabs","TabsList","TabsTrigger","TabsContent","_b","ImageOff","VideoOff","_c","EditCandidatePage","uploadPhoto","uploadVideo","uploadPassport","initialized","setInitialized","useEffect","_d","_e","r"],"mappings":"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"}