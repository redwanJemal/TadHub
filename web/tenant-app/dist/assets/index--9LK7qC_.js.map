{"version":3,"file":"index--9LK7qC_.js","sources":["../../src/features/notifications/pages/NotificationsPage.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Bell } from 'lucide-react';\nimport { Button } from '@/shared/components/ui/button';\nimport { useNotifications, useMarkAsRead, useMarkAllAsRead, useUnreadCount } from '../hooks';\nimport { NotificationItem } from '../components/NotificationItem';\n\nexport function NotificationsPage() {\n  const { t } = useTranslation('notifications');\n  const [page, setPage] = useState(1);\n  const pageSize = 20;\n\n  const { data, isLoading } = useNotifications({ page, pageSize, sort: '-createdAt' });\n  const { data: unreadData } = useUnreadCount();\n  const markAsRead = useMarkAsRead();\n  const markAllAsRead = useMarkAllAsRead();\n\n  const notifications = data?.items ?? [];\n  const totalPages = data?.totalPages ?? 1;\n  const unreadCount = unreadData?.count ?? 0;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold tracking-tight\">{t('title')}</h1>\n        </div>\n        {unreadCount > 0 && (\n          <Button variant=\"outline\" size=\"sm\" onClick={() => markAllAsRead.mutate()}>\n            {t('markAllRead')}\n          </Button>\n        )}\n      </div>\n\n      <div className=\"rounded-lg border bg-card\">\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary\" />\n          </div>\n        ) : notifications.length === 0 ? (\n          <div className=\"py-12 text-center\">\n            <Bell className=\"h-10 w-10 text-muted-foreground/30 mx-auto mb-3\" />\n            <p className=\"text-sm text-muted-foreground\">{t('empty')}</p>\n          </div>\n        ) : (\n          <div className=\"divide-y\">\n            {notifications.map((notification) => (\n              <div key={notification.id} className=\"px-2\">\n                <NotificationItem\n                  notification={notification}\n                  onMarkRead={(id) => markAsRead.mutate(id)}\n                />\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex items-center justify-center gap-2 border-t px-4 py-3\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              disabled={page <= 1}\n              onClick={() => setPage((p) => p - 1)}\n            >\n              {t('common:back')}\n            </Button>\n            <span className=\"text-sm text-muted-foreground\">\n              {page} / {totalPages}\n            </span>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              disabled={page >= totalPages}\n              onClick={() => setPage((p) => p + 1)}\n            >\n              {t('common:next')}\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["NotificationsPage","t","useTranslation","page","setPage","useState","pageSize","data","isLoading","useNotifications","unreadData","useUnreadCount","markAsRead","useMarkAsRead","markAllAsRead","useMarkAllAsRead","notifications","totalPages","unreadCount","jsxs","jsx","Button","Bell","notification","NotificationItem","id","p"],"mappings":"gKAOO,SAASA,GAAoB,CAClC,KAAM,CAAE,EAAAC,CAAA,EAAMC,EAAe,eAAe,EACtC,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAS,CAAC,EAC5BC,EAAW,GAEX,CAAE,KAAAC,EAAM,UAAAC,CAAA,EAAcC,EAAiB,CAAE,KAAAN,EAAM,SAAAG,EAAU,KAAM,aAAc,EAC7E,CAAE,KAAMI,CAAA,EAAeC,EAAA,EACvBC,EAAaC,EAAA,EACbC,EAAgBC,EAAA,EAEhBC,GAAgBT,GAAA,YAAAA,EAAM,QAAS,CAAA,EAC/BU,GAAaV,GAAA,YAAAA,EAAM,aAAc,EACjCW,GAAcR,GAAA,YAAAA,EAAY,QAAS,EAEzC,OACES,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,eAAC,KAAA,CAAG,UAAU,oCAAqC,SAAAnB,EAAE,OAAO,EAAE,CAAA,CAChE,EACCiB,EAAc,GACbE,EAAAA,IAACC,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,QAAS,IAAMP,EAAc,OAAA,EAC9D,SAAAb,EAAE,aAAa,CAAA,CAClB,CAAA,EAEJ,EAEAkB,EAAAA,KAAC,MAAA,CAAI,UAAU,4BACZ,SAAA,CAAAX,QACE,MAAA,CAAI,UAAU,yCACb,SAAAY,EAAAA,IAAC,OAAI,UAAU,6DAAA,CAA8D,EAC/E,EACEJ,EAAc,SAAW,EAC3BG,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAK,UAAU,iDAAA,CAAkD,QACjE,IAAA,CAAE,UAAU,gCAAiC,SAAArB,EAAE,OAAO,CAAA,CAAE,CAAA,CAAA,CAC3D,EAEAmB,EAAAA,IAAC,MAAA,CAAI,UAAU,WACZ,SAAAJ,EAAc,IAAKO,GAClBH,EAAAA,IAAC,MAAA,CAA0B,UAAU,OACnC,SAAAA,EAAAA,IAACI,EAAA,CACC,aAAAD,EACA,WAAaE,GAAOb,EAAW,OAAOa,CAAE,CAAA,CAAA,CAC1C,EAJQF,EAAa,EAKvB,CACD,EACH,EAIDN,EAAa,GACZE,OAAC,MAAA,CAAI,UAAU,4DACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,QAAQ,UACR,KAAK,KACL,SAAUlB,GAAQ,EAClB,QAAS,IAAMC,EAASsB,GAAMA,EAAI,CAAC,EAElC,WAAE,aAAa,CAAA,CAAA,EAElBP,EAAAA,KAAC,OAAA,CAAK,UAAU,gCACb,SAAA,CAAAhB,EAAK,MAAIc,CAAA,EACZ,EACAG,EAAAA,IAACC,EAAA,CACC,QAAQ,UACR,KAAK,KACL,SAAUlB,GAAQc,EAClB,QAAS,IAAMb,EAASsB,GAAMA,EAAI,CAAC,EAElC,WAAE,aAAa,CAAA,CAAA,CAClB,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EACF,CAEJ"}