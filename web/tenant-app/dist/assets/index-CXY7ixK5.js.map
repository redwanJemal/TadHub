{"version":3,"file":"index-CXY7ixK5.js","sources":["../../../node_modules/.pnpm/lucide-react@0.513.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../src/features/reference-data/components/CountrySelect.tsx","../../src/features/suppliers/components/AddSupplierSheet.tsx","../../src/features/suppliers/pages/SuppliersPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.513.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n];\nconst RotateCcw = createLucideIcon(\"rotate-ccw\", __iconNode);\n\nexport { __iconNode, RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","import {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { Skeleton } from '@/shared/components/ui/skeleton';\nimport { useCountryRefs } from '../hooks/use-reference-data';\nimport { getFlagEmoji } from '../types';\nimport type { CountryRefDto } from '../types';\n\nexport interface CountrySelectProps {\n  /** Selected country ID */\n  value?: string;\n  /** Change handler */\n  onChange?: (value: string, country?: CountryRefDto) => void;\n  /** Whether the select is disabled */\n  disabled?: boolean;\n  /** Placeholder text */\n  placeholder?: string;\n  /** Show country flag emoji */\n  showFlag?: boolean;\n  /** Show country code prefix */\n  showCode?: boolean;\n  /** Additional class names */\n  className?: string;\n  /** Error state */\n  error?: boolean;\n  /** ID for form association */\n  id?: string;\n  /** Name for form association */\n  name?: string;\n}\n\n/**\n * Reusable Country Select component\n * Fetches and caches countries from the API\n * \n * @example\n * <CountrySelect\n *   value={formData.countryId}\n *   onChange={(id) => setFormData({ ...formData, countryId: id })}\n *   showFlag\n * />\n */\nexport function CountrySelect({\n  value,\n  onChange,\n  disabled,\n  placeholder = 'Select country',\n  showFlag = true,\n  showCode = false,\n  className,\n  error,\n  id,\n  name,\n}: CountrySelectProps) {\n  const { data: countries, isLoading, isError } = useCountryRefs();\n\n  const handleChange = (newValue: string) => {\n    const country = countries?.find((c) => c.id === newValue);\n    onChange?.(newValue, country);\n  };\n\n  // Find the selected country for display\n  const selectedCountry = countries?.find((c) => c.id === value);\n\n  if (isLoading) {\n    return <Skeleton className=\"h-10 w-full\" />;\n  }\n\n  if (isError) {\n    return (\n      <Select disabled>\n        <SelectTrigger className={className}>\n          <SelectValue placeholder=\"Failed to load countries\" />\n        </SelectTrigger>\n      </Select>\n    );\n  }\n\n  return (\n    <Select\n      value={value}\n      onValueChange={handleChange}\n      disabled={disabled}\n      name={name}\n    >\n      <SelectTrigger\n        id={id}\n        className={`${className} ${error ? 'border-red-500' : ''}`}\n      >\n        <SelectValue placeholder={placeholder}>\n          {selectedCountry && (\n            <span className=\"flex items-center gap-2\">\n              {showFlag && (\n                <span className=\"text-lg\">{getFlagEmoji(selectedCountry.code)}</span>\n              )}\n              {showCode && (\n                <span className=\"font-mono text-muted-foreground\">\n                  {selectedCountry.code}\n                </span>\n              )}\n              <span>{selectedCountry.nameEn}</span>\n            </span>\n          )}\n        </SelectValue>\n      </SelectTrigger>\n      <SelectContent>\n        {countries?.map((country) => (\n          <SelectItem key={country.id} value={country.id}>\n            <span className=\"flex items-center gap-2\">\n              {showFlag && (\n                <span className=\"text-lg\">{getFlagEmoji(country.code)}</span>\n              )}\n              {showCode && (\n                <span className=\"font-mono text-muted-foreground\">\n                  {country.code}\n                </span>\n              )}\n              <span>{country.nameEn}</span>\n            </span>\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  );\n}\n\nexport default CountrySelect;\n","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetTitle,\n} from '@/shared/components/ui/sheet';\nimport { Button } from '@/shared/components/ui/button';\nimport { Input } from '@/shared/components/ui/input';\nimport { Label } from '@/shared/components/ui/label';\nimport { CountrySelect } from '@/features/reference-data';\nimport type { CountryRefDto } from '@/features/reference-data';\nimport { useCreateAndLinkSupplier } from '../hooks';\n\ninterface AddSupplierSheetProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nconst initialForm = {\n  nameEn: '',\n  nameAr: '',\n  countryId: '',\n  countryCode: '',\n  city: '',\n  licenseNumber: '',\n  phone: '',\n  email: '',\n  website: '',\n  notes: '',\n};\n\nexport function AddSupplierSheet({ open, onOpenChange }: AddSupplierSheetProps) {\n  const { t } = useTranslation('suppliers');\n  const [form, setForm] = useState(initialForm);\n  const createAndLink = useCreateAndLinkSupplier();\n\n  const update = (field: string, value: string) =>\n    setForm((prev) => ({ ...prev, [field]: value }));\n\n  const handleCountryChange = (id: string, country?: CountryRefDto) => {\n    setForm((prev) => ({ ...prev, countryId: id, countryCode: country?.code ?? '' }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!form.nameEn.trim() || !form.countryCode) return;\n\n    await createAndLink.mutateAsync({\n      nameEn: form.nameEn.trim(),\n      nameAr: form.nameAr.trim() || undefined,\n      country: form.countryCode,\n      city: form.city.trim() || undefined,\n      licenseNumber: form.licenseNumber.trim() || undefined,\n      phone: form.phone.trim() || undefined,\n      email: form.email.trim() || undefined,\n      website: form.website.trim() || undefined,\n      notes: form.notes.trim() || undefined,\n    });\n\n    setForm(initialForm);\n    onOpenChange(false);\n  };\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent side=\"right\" className=\"overflow-y-auto\">\n        <form onSubmit={handleSubmit} className=\"flex flex-col h-full\">\n          <SheetHeader>\n            <SheetTitle>{t('add.title')}</SheetTitle>\n            <SheetDescription>{t('add.description')}</SheetDescription>\n          </SheetHeader>\n\n          <div className=\"grid gap-4 py-6 flex-1\">\n            {/* Name (English) - Required */}\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"nameEn\">\n                {t('add.nameEn')} <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"nameEn\"\n                placeholder={t('add.nameEnPlaceholder')}\n                value={form.nameEn}\n                onChange={(e) => update('nameEn', e.target.value)}\n                required\n              />\n            </div>\n\n            {/* Name (Arabic) */}\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"nameAr\">{t('add.nameAr')}</Label>\n              <Input\n                id=\"nameAr\"\n                placeholder={t('add.nameArPlaceholder')}\n                value={form.nameAr}\n                onChange={(e) => update('nameAr', e.target.value)}\n                dir=\"rtl\"\n              />\n            </div>\n\n            {/* Country - Required */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"country\">\n                  {t('add.country')} <span className=\"text-destructive\">*</span>\n                </Label>\n                <CountrySelect\n                  id=\"country\"\n                  value={form.countryId}\n                  onChange={handleCountryChange}\n                  placeholder={t('add.countryPlaceholder')}\n                  showFlag\n                  showCode\n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"city\">{t('add.city')}</Label>\n                <Input\n                  id=\"city\"\n                  placeholder={t('add.cityPlaceholder')}\n                  value={form.city}\n                  onChange={(e) => update('city', e.target.value)}\n                />\n              </div>\n            </div>\n\n            {/* License Number */}\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"licenseNumber\">{t('add.licenseNumber')}</Label>\n              <Input\n                id=\"licenseNumber\"\n                placeholder={t('add.licenseNumberPlaceholder')}\n                value={form.licenseNumber}\n                onChange={(e) => update('licenseNumber', e.target.value)}\n              />\n            </div>\n\n            {/* Phone & Email */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"phone\">{t('add.phone')}</Label>\n                <Input\n                  id=\"phone\"\n                  type=\"tel\"\n                  placeholder={t('add.phonePlaceholder')}\n                  value={form.phone}\n                  onChange={(e) => update('phone', e.target.value)}\n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"email\">{t('add.email')}</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder={t('add.emailPlaceholder')}\n                  value={form.email}\n                  onChange={(e) => update('email', e.target.value)}\n                />\n              </div>\n            </div>\n\n            {/* Website */}\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"website\">{t('add.website')}</Label>\n              <Input\n                id=\"website\"\n                type=\"url\"\n                placeholder={t('add.websitePlaceholder')}\n                value={form.website}\n                onChange={(e) => update('website', e.target.value)}\n              />\n            </div>\n\n            {/* Notes */}\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"notes\">{t('add.notes')}</Label>\n              <textarea\n                id=\"notes\"\n                className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                placeholder={t('add.notesPlaceholder')}\n                value={form.notes}\n                onChange={(e) => update('notes', e.target.value)}\n                rows={3}\n              />\n            </div>\n          </div>\n\n          <SheetFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n            >\n              {t('common:cancel')}\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={createAndLink.isPending || !form.nameEn.trim() || !form.countryCode}\n            >\n              {createAndLink.isPending ? t('add.submitting') : t('add.submit')}\n            </Button>\n          </SheetFooter>\n        </form>\n      </SheetContent>\n    </Sheet>\n  );\n}\n","import { useState, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { DataTableAdvanced, type Column } from '@/shared/components/data-table/DataTableAdvanced';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { Button } from '@/shared/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/shared/components/ui/dropdown-menu';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/shared/components/ui/alert-dialog';\nimport {\n  MoreHorizontal,\n  Plus,\n  Ban,\n  RotateCcw,\n  Trash2,\n  Mail,\n  Phone,\n} from 'lucide-react';\nimport { usePermissions } from '@/features/auth/hooks/usePermissions';\nimport { PermissionGate } from '@/shared/components/PermissionGate';\nimport { useCountryRefs, getFlagEmoji } from '@/features/reference-data';\nimport { useSuppliers, useUnlinkSupplier, useUpdateTenantSupplier } from '../hooks';\nimport { AddSupplierSheet } from '../components/AddSupplierSheet';\nimport type { TenantSupplier } from '../types';\n\nconst statusVariant: Record<string, 'default' | 'secondary' | 'destructive'> = {\n  Active: 'default',\n  Suspended: 'secondary',\n  Terminated: 'destructive',\n};\n\nexport function SuppliersPage() {\n  const { t } = useTranslation('suppliers');\n  const { hasPermission } = usePermissions();\n\n  // Table state\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\n\n  // Dialog state\n  const [addOpen, setAddOpen] = useState(false);\n  const [removeTarget, setRemoveTarget] = useState<TenantSupplier | null>(null);\n\n  // Data\n  const queryParams = useMemo(() => ({\n    page,\n    pageSize,\n    search: search || undefined,\n    sort: '-createdAt',\n  }), [page, pageSize, search]);\n\n  const { data, isLoading, refetch } = useSuppliers(queryParams);\n  const { data: countries } = useCountryRefs();\n  const unlinkSupplier = useUnlinkSupplier();\n  const updateSupplier = useUpdateTenantSupplier();\n\n  const getCountryName = (code?: string) => {\n    if (!code) return '—';\n    const country = countries?.find((c) => c.code === code);\n    return country?.nameEn ?? code;\n  };\n\n  const handleRemove = async () => {\n    if (!removeTarget) return;\n    await unlinkSupplier.mutateAsync(removeTarget.id);\n    setRemoveTarget(null);\n  };\n\n  const handleStatusChange = async (item: TenantSupplier, status: string) => {\n    await updateSupplier.mutateAsync({ id: item.id, data: { status } });\n  };\n\n  const columns: Column<TenantSupplier>[] = [\n    {\n      key: 'name',\n      header: t('columns.name'),\n      cell: (row) => (\n        <div className=\"min-w-0\">\n          <p className=\"font-medium truncate\">{row.supplier?.nameEn ?? '—'}</p>\n          {row.supplier?.nameAr && (\n            <p className=\"text-xs text-muted-foreground truncate\" dir=\"rtl\">\n              {row.supplier.nameAr}\n            </p>\n          )}\n        </div>\n      ),\n    },\n    {\n      key: 'country',\n      header: t('columns.country'),\n      cell: (row) => (\n        <div className=\"flex items-center gap-1.5\">\n          {row.supplier?.country && (\n            <span className=\"text-lg leading-none\">{getFlagEmoji(row.supplier.country)}</span>\n          )}\n          <span>{getCountryName(row.supplier?.country)}</span>\n          {row.supplier?.city && (\n            <span className=\"text-muted-foreground\">/ {row.supplier.city}</span>\n          )}\n        </div>\n      ),\n    },\n    {\n      key: 'contact',\n      header: t('columns.contact'),\n      cell: (row) => (\n        <div className=\"flex flex-col gap-0.5 text-sm\">\n          {row.supplier?.email ? (\n            <span className=\"flex items-center gap-1.5 text-muted-foreground\">\n              <Mail className=\"h-3 w-3\" />\n              <span className=\"truncate max-w-[180px]\">{row.supplier.email}</span>\n            </span>\n          ) : null}\n          {row.supplier?.phone ? (\n            <span className=\"flex items-center gap-1.5 text-muted-foreground\">\n              <Phone className=\"h-3 w-3\" />\n              {row.supplier.phone}\n            </span>\n          ) : null}\n          {!row.supplier?.email && !row.supplier?.phone && (\n            <span className=\"text-xs text-muted-foreground\">{t('noContact')}</span>\n          )}\n        </div>\n      ),\n    },\n    {\n      key: 'status',\n      header: t('columns.status'),\n      cell: (row) => (\n        <Badge variant={statusVariant[row.status] ?? 'secondary'}>\n          {t(`status.${row.status}`)}\n        </Badge>\n      ),\n    },\n    {\n      key: 'actions',\n      header: t('columns.actions'),\n      className: 'w-[70px]',\n      cell: (row) => (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            {hasPermission('suppliers.manage') && row.status === 'Active' && (\n              <DropdownMenuItem onClick={() => handleStatusChange(row, 'Suspended')}>\n                <Ban className=\"me-2 h-4 w-4\" />\n                {t('actions.suspend')}\n              </DropdownMenuItem>\n            )}\n            {hasPermission('suppliers.manage') && row.status === 'Suspended' && (\n              <DropdownMenuItem onClick={() => handleStatusChange(row, 'Active')}>\n                <RotateCcw className=\"me-2 h-4 w-4\" />\n                {t('actions.reactivate')}\n              </DropdownMenuItem>\n            )}\n            {hasPermission('suppliers.delete') && (\n              <>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem\n                  className=\"text-destructive\"\n                  onClick={() => setRemoveTarget(row)}\n                >\n                  <Trash2 className=\"me-2 h-4 w-4\" />\n                  {t('actions.remove')}\n                </DropdownMenuItem>\n              </>\n            )}\n          </DropdownMenuContent>\n        </DropdownMenu>\n      ),\n    },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold tracking-tight\">{t('title')}</h1>\n        <p className=\"text-muted-foreground\">{t('description')}</p>\n      </div>\n\n      <DataTableAdvanced\n        columns={columns}\n        data={data?.items ?? []}\n        isLoading={isLoading}\n        selectable\n        selectedIds={selectedIds}\n        onSelectionChange={setSelectedIds}\n        searchPlaceholder={t('searchPlaceholder')}\n        searchValue={search}\n        onSearchChange={(val) => {\n          setSearch(val);\n          setPage(1);\n        }}\n        page={page}\n        totalPages={data?.totalPages}\n        total={data?.totalCount}\n        pageSize={pageSize}\n        onPageChange={setPage}\n        onPageSizeChange={setPageSize}\n        onRefresh={() => refetch()}\n        emptyVariant=\"default\"\n        emptyTitle={t('empty.title')}\n        emptyDescription={t('empty.description')}\n        emptyAction={\n          <PermissionGate permission=\"suppliers.manage\">\n            <Button onClick={() => setAddOpen(true)}>\n              <Plus className=\"me-2 h-4 w-4\" />\n              {t('addSupplier')}\n            </Button>\n          </PermissionGate>\n        }\n        actions={\n          <PermissionGate permission=\"suppliers.manage\">\n            <Button onClick={() => setAddOpen(true)}>\n              <Plus className=\"me-2 h-4 w-4\" />\n              {t('addSupplier')}\n            </Button>\n          </PermissionGate>\n        }\n        bulkActions={\n          <PermissionGate permission=\"suppliers.delete\">\n            <Button\n              variant=\"destructive\"\n              size=\"sm\"\n              onClick={() => {\n                // bulk remove - pick first selected for confirmation\n                const items = data?.items ?? [];\n                const first = items.find((i) => selectedIds.includes(i.id));\n                if (first) setRemoveTarget(first);\n              }}\n            >\n              <Trash2 className=\"me-2 h-4 w-4\" />\n              {t('actions.remove')}\n            </Button>\n          </PermissionGate>\n        }\n      />\n\n      {/* Add Supplier Sheet */}\n      <AddSupplierSheet open={addOpen} onOpenChange={setAddOpen} />\n\n      {/* Remove Confirmation */}\n      <AlertDialog open={!!removeTarget} onOpenChange={() => setRemoveTarget(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('remove.title')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('remove.description')}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleRemove}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('remove.confirm')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n"],"names":["__iconNode","RotateCcw","createLucideIcon","CountrySelect","value","onChange","disabled","placeholder","showFlag","showCode","className","error","id","name","countries","isLoading","isError","useCountryRefs","handleChange","newValue","country","c","selectedCountry","jsx","Skeleton","Select","SelectTrigger","SelectValue","jsxs","getFlagEmoji","SelectContent","SelectItem","initialForm","AddSupplierSheet","open","onOpenChange","t","useTranslation","form","setForm","useState","createAndLink","useCreateAndLinkSupplier","update","field","prev","handleCountryChange","handleSubmit","e","Sheet","SheetContent","SheetHeader","SheetTitle","SheetDescription","Label","Input","SheetFooter","Button","statusVariant","SuppliersPage","hasPermission","usePermissions","search","setSearch","page","setPage","pageSize","setPageSize","selectedIds","setSelectedIds","addOpen","setAddOpen","removeTarget","setRemoveTarget","queryParams","useMemo","data","refetch","useSuppliers","unlinkSupplier","useUnlinkSupplier","updateSupplier","useUpdateTenantSupplier","getCountryName","code","handleRemove","handleStatusChange","item","status","columns","row","_a","_b","_c","Mail","Phone","_d","Badge","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","DropdownMenuItem","Ban","Fragment","DropdownMenuSeparator","Trash2","DataTableAdvanced","val","PermissionGate","Plus","first","i","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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","x_google_ignoreList":[0]}