{"version":3,"file":"index-BVYwqCSw.js","sources":["../../../node_modules/.pnpm/@radix-ui+react-context@1.1.3_@types+react@19.2.14_react@19.2.4/node_modules/@radix-ui/react-context/dist/index.mjs","../../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@19.2.4/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@19.2.4/node_modules/use-sync-external-store/shim/index.js","../../../node_modules/.pnpm/@radix-ui+react-use-is-hydrated@0.1.0_@types+react@19.2.14_react@19.2.4/node_modules/@radix-ui/react-use-is-hydrated/dist/index.mjs","../../../node_modules/.pnpm/@radix-ui+react-avatar@1.1.11_@types+react-dom@19.2.3_@types+react@19.2.14__@types+reac_5e99ccf265cbb36ef8e7150da8f5489e/node_modules/@radix-ui/react-avatar/dist/index.mjs","../../src/shared/components/ui/avatar.tsx","../../src/features/team/api.ts","../../src/features/team/hooks.ts","../../src/features/team/components/InviteMemberDialog.tsx","../../src/features/team/components/ChangeMemberRoleDialog.tsx","../../src/features/team/components/PendingInvitations.tsx","../../src/features/team/pages/TeamPage.tsx"],"sourcesContent":["// src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  Context.displayName = rootComponentName + \"Context\";\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    BaseContext.displayName = rootComponentName + \"Context\";\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","// src/use-is-hydrated.tsx\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\nfunction useIsHydrated() {\n  return useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\nexport {\n  useIsHydrated\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useIsHydrated } from \"@radix-ui/react-use-is-hydrated\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n    return /* @__PURE__ */ jsx(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: /* @__PURE__ */ jsx(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */ jsx(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === void 0);\n    React.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */ jsx(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction resolveLoadingStatus(image, src) {\n  if (!image) {\n    return \"idle\";\n  }\n  if (!src) {\n    return \"error\";\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? \"loaded\" : \"loading\";\n}\nfunction useImageLoadingStatus(src, { referrerPolicy, crossOrigin }) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React.useRef(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n  const [loadingStatus, setLoadingStatus] = React.useState(\n    () => resolveLoadingStatus(image, src)\n  );\n  useLayoutEffect(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n  useLayoutEffect(() => {\n    const updateStatus = (status) => () => {\n      setLoadingStatus(status);\n    };\n    if (!image) return;\n    const handleLoad = updateStatus(\"loaded\");\n    const handleError = updateStatus(\"error\");\n    image.addEventListener(\"load\", handleLoad);\n    image.addEventListener(\"error\", handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === \"string\") {\n      image.crossOrigin = crossOrigin;\n    }\n    return () => {\n      image.removeEventListener(\"load\", handleLoad);\n      image.removeEventListener(\"error\", handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\nimport { cn } from \"@/shared/lib/cn\";\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium\",\n      className\n    )}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarImage, AvatarFallback };\n","import { apiClient } from '@/shared/api/client';\nimport { getTenantId } from '@/features/auth/AuthProvider';\nimport type { QueryParams } from '@/shared/api/types/common';\nimport type {\n  TenantMember,\n  TenantInvitation,\n  Role,\n  InviteMemberRequest,\n  AssignRoleRequest,\n} from './types';\n\nfunction tenantPath(path: string) {\n  const tenantId = getTenantId();\n  return `/tenants/${tenantId}${path}`;\n}\n\n// Members\nexport function listMembers(params?: QueryParams) {\n  return apiClient.getPaged<TenantMember>(tenantPath('/members'), params);\n}\n\nexport function getMember(userId: string) {\n  return apiClient.get<TenantMember>(tenantPath(`/members/${userId}`));\n}\n\nexport function removeMember(userId: string) {\n  return apiClient.delete<void>(tenantPath(`/members/${userId}`));\n}\n\n// Invitations\nexport function listInvitations(params?: QueryParams) {\n  return apiClient.getPaged<TenantInvitation>(tenantPath('/invitations'), params);\n}\n\nexport function inviteMember(data: InviteMemberRequest) {\n  return apiClient.post<TenantInvitation>(tenantPath('/invitations'), data);\n}\n\nexport function revokeInvitation(invitationId: string) {\n  return apiClient.delete<void>(tenantPath(`/invitations/${invitationId}`));\n}\n\n// Roles\nexport function listRoles(params?: QueryParams) {\n  return apiClient.getPaged<Role>(tenantPath('/roles'), params);\n}\n\nexport function assignRole(data: AssignRoleRequest) {\n  return apiClient.post<unknown>(tenantPath('/roles/assign'), data);\n}\n\nexport function removeRole(userId: string, roleId: string) {\n  return apiClient.delete<void>(tenantPath(`/roles/users/${userId}/roles/${roleId}`));\n}\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport type { QueryParams } from '@/shared/api/types/common';\nimport * as api from './api';\nimport type { InviteMemberRequest, AssignRoleRequest } from './types';\n\nconst MEMBERS_KEY = 'team-members';\nconst INVITATIONS_KEY = 'team-invitations';\nconst ROLES_KEY = 'team-roles';\n\nexport function useTeamMembers(params?: QueryParams) {\n  return useQuery({\n    queryKey: [MEMBERS_KEY, params],\n    queryFn: () => api.listMembers(params),\n  });\n}\n\nexport function useTeamMember(userId: string) {\n  return useQuery({\n    queryKey: [MEMBERS_KEY, userId],\n    queryFn: () => api.getMember(userId),\n    enabled: !!userId,\n  });\n}\n\nexport function useRemoveMember() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (userId: string) => api.removeMember(userId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [MEMBERS_KEY] });\n    },\n  });\n}\n\nexport function useInviteMember() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (data: InviteMemberRequest) => api.inviteMember(data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [INVITATIONS_KEY] });\n    },\n  });\n}\n\nexport function useInvitations(params?: QueryParams) {\n  return useQuery({\n    queryKey: [INVITATIONS_KEY, params],\n    queryFn: () => api.listInvitations(params),\n  });\n}\n\nexport function useRevokeInvitation() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (invitationId: string) => api.revokeInvitation(invitationId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [INVITATIONS_KEY] });\n    },\n  });\n}\n\nexport function useRoles() {\n  return useQuery({\n    queryKey: [ROLES_KEY],\n    queryFn: () => api.listRoles({ pageSize: 100 }),\n    staleTime: 5 * 60 * 1000,\n  });\n}\n\nexport function useAssignRole() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (data: AssignRoleRequest) => api.assignRole(data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [MEMBERS_KEY] });\n    },\n  });\n}\n\nexport function useRemoveRole() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: ({ userId, roleId }: { userId: string; roleId: string }) =>\n      api.removeRole(userId, roleId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [MEMBERS_KEY] });\n    },\n  });\n}\n","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/shared/components/ui/dialog';\nimport { Button } from '@/shared/components/ui/button';\nimport { Input } from '@/shared/components/ui/input';\nimport { Label } from '@/shared/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/shared/components/ui/select';\nimport { useInviteMember, useRoles } from '../hooks';\n\ninterface InviteMemberDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport function InviteMemberDialog({ open, onOpenChange }: InviteMemberDialogProps) {\n  const { t } = useTranslation('team');\n  const [email, setEmail] = useState('');\n  const [roleId, setRoleId] = useState<string>('');\n  const inviteMember = useInviteMember();\n  const { data: rolesData } = useRoles();\n  const roles = rolesData?.items ?? [];\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email.trim()) return;\n\n    await inviteMember.mutateAsync({\n      email: email.trim(),\n      roleId: roleId || undefined,\n    });\n\n    setEmail('');\n    setRoleId('');\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <form onSubmit={handleSubmit}>\n          <DialogHeader>\n            <DialogTitle>{t('invite.title')}</DialogTitle>\n            <DialogDescription>{t('invite.description')}</DialogDescription>\n          </DialogHeader>\n\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"email\">{t('invite.emailLabel')}</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder={t('invite.emailPlaceholder')}\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n\n            <div className=\"grid gap-2\">\n              <Label>{t('invite.roleLabel')}</Label>\n              <Select value={roleId} onValueChange={setRoleId}>\n                <SelectTrigger>\n                  <SelectValue placeholder={t('invite.rolePlaceholder')} />\n                </SelectTrigger>\n                <SelectContent>\n                  {roles.map((role) => (\n                    <SelectItem key={role.id} value={role.id}>\n                      {role.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n            >\n              {t('common:cancel')}\n            </Button>\n            <Button type=\"submit\" disabled={inviteMember.isPending || !email.trim()}>\n              {inviteMember.isPending ? t('common:loading') : t('invite.submit')}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/shared/components/ui/dialog';\nimport { Button } from '@/shared/components/ui/button';\nimport { Checkbox } from '@/shared/components/ui/checkbox';\nimport { Label } from '@/shared/components/ui/label';\nimport { useRoles, useAssignRole, useRemoveRole } from '../hooks';\nimport type { TenantMember } from '../types';\n\ninterface ChangeMemberRoleDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  member: TenantMember | null;\n}\n\nexport function ChangeMemberRoleDialog({\n  open,\n  onOpenChange,\n  member,\n}: ChangeMemberRoleDialogProps) {\n  const { t } = useTranslation('team');\n  const { data: rolesData } = useRoles();\n  const assignRole = useAssignRole();\n  const removeRole = useRemoveRole();\n  const [selectedRoleIds, setSelectedRoleIds] = useState<Set<string>>(new Set());\n  const [saving, setSaving] = useState(false);\n\n  const roles = rolesData?.items ?? [];\n  const currentRoleIds = new Set(member?.roles.map((r) => r.id) ?? []);\n\n  useEffect(() => {\n    if (member) {\n      setSelectedRoleIds(new Set(member.roles.map((r) => r.id)));\n    }\n  }, [member]);\n\n  const handleToggleRole = (roleId: string) => {\n    setSelectedRoleIds((prev) => {\n      const next = new Set(prev);\n      if (next.has(roleId)) {\n        next.delete(roleId);\n      } else {\n        next.add(roleId);\n      }\n      return next;\n    });\n  };\n\n  const handleSave = async () => {\n    if (!member) return;\n    setSaving(true);\n\n    try {\n      // Roles to add\n      const toAdd = [...selectedRoleIds].filter((id) => !currentRoleIds.has(id));\n      // Roles to remove\n      const toRemove = [...currentRoleIds].filter((id) => !selectedRoleIds.has(id));\n\n      await Promise.all([\n        ...toAdd.map((roleId) =>\n          assignRole.mutateAsync({ userId: member.userId, roleId })\n        ),\n        ...toRemove.map((roleId) =>\n          removeRole.mutateAsync({ userId: member.userId, roleId })\n        ),\n      ]);\n\n      onOpenChange(false);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>{t('changeRole.title')}</DialogTitle>\n          <DialogDescription>\n            {t('changeRole.description', { name: member?.fullName })}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"grid gap-3 py-4\">\n          {roles.map((role) => (\n            <div key={role.id} className=\"flex items-center gap-3\">\n              <Checkbox\n                id={`role-${role.id}`}\n                checked={selectedRoleIds.has(role.id)}\n                onCheckedChange={() => handleToggleRole(role.id)}\n              />\n              <Label htmlFor={`role-${role.id}`} className=\"flex-1 cursor-pointer\">\n                <span className=\"font-medium\">{role.name}</span>\n                {role.description && (\n                  <span className=\"block text-xs text-muted-foreground\">\n                    {role.description}\n                  </span>\n                )}\n              </Label>\n            </div>\n          ))}\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            {t('common:cancel')}\n          </Button>\n          <Button onClick={handleSave} disabled={saving}>\n            {saving ? t('common:loading') : t('changeRole.save')}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { DataTableAdvanced, type Column } from '@/shared/components/data-table/DataTableAdvanced';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { Button } from '@/shared/components/ui/button';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/shared/components/ui/alert-dialog';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/shared/components/ui/dropdown-menu';\nimport { MoreHorizontal, Trash2, Mail } from 'lucide-react';\nimport { useInvitations, useRevokeInvitation } from '../hooks';\nimport type { TenantInvitation } from '../types';\n\ninterface PendingInvitationsProps {\n  onInvite: () => void;\n}\n\nexport function PendingInvitations({ onInvite }: PendingInvitationsProps) {\n  const { t } = useTranslation('team');\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [revokeTarget, setRevokeTarget] = useState<TenantInvitation | null>(null);\n\n  const { data, isLoading, refetch } = useInvitations({ page, pageSize });\n  const revokeInvitation = useRevokeInvitation();\n\n  const handleRevoke = async () => {\n    if (!revokeTarget) return;\n    await revokeInvitation.mutateAsync(revokeTarget.id);\n    setRevokeTarget(null);\n  };\n\n  const columns: Column<TenantInvitation>[] = [\n    {\n      key: 'email',\n      header: t('invitations.email'),\n      cell: (row) => (\n        <div className=\"flex items-center gap-2\">\n          <Mail className=\"h-4 w-4 text-muted-foreground\" />\n          <span className=\"font-medium\">{row.email}</span>\n        </div>\n      ),\n    },\n    {\n      key: 'invitedByName',\n      header: t('invitations.invitedBy'),\n    },\n    {\n      key: 'status',\n      header: t('invitations.status'),\n      cell: (row) => (\n        <Badge variant={row.isExpired ? 'destructive' : 'warning'}>\n          {row.isExpired ? t('invitations.expired') : t('invitations.pending')}\n        </Badge>\n      ),\n    },\n    {\n      key: 'expiresAt',\n      header: t('invitations.expires'),\n      cell: (row) => new Date(row.expiresAt).toLocaleDateString(),\n    },\n    {\n      key: 'actions',\n      header: t('invitations.actions'),\n      className: 'w-[70px]',\n      cell: (row) => (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem\n              className=\"text-destructive\"\n              onClick={() => setRevokeTarget(row)}\n            >\n              <Trash2 className=\"me-2 h-4 w-4\" />\n              {t('invitations.revoke')}\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      ),\n    },\n  ];\n\n  return (\n    <>\n      <DataTableAdvanced\n        columns={columns}\n        data={data?.items ?? []}\n        isLoading={isLoading}\n        page={page}\n        totalPages={data?.totalPages}\n        total={data?.totalCount}\n        pageSize={pageSize}\n        onPageChange={setPage}\n        onPageSizeChange={setPageSize}\n        onRefresh={() => refetch()}\n        emptyVariant=\"team\"\n        emptyTitle={t('empty.invitations.title')}\n        emptyDescription={t('empty.invitations.description')}\n        emptyAction={\n          <Button onClick={onInvite}>\n            {t('invite.title')}\n          </Button>\n        }\n        actions={\n          <Button onClick={onInvite}>\n            {t('invite.title')}\n          </Button>\n        }\n      />\n\n      <AlertDialog open={!!revokeTarget} onOpenChange={() => setRevokeTarget(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('invitations.revoke')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('invitations.confirmRevoke')}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleRevoke}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('invitations.revoke')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n","import { useState, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/shared/components/ui/tabs';\nimport { DataTableAdvanced, type Column } from '@/shared/components/data-table/DataTableAdvanced';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/shared/components/ui/avatar';\nimport { Badge } from '@/shared/components/ui/badge';\nimport { Button } from '@/shared/components/ui/button';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/shared/components/ui/dropdown-menu';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/shared/components/ui/alert-dialog';\nimport { MoreHorizontal, UserPlus, Shield, Trash2, Users } from 'lucide-react';\nimport { usePermissions } from '@/features/auth/hooks/usePermissions';\nimport { PermissionGate } from '@/shared/components/PermissionGate';\nimport { useTeamMembers, useRemoveMember } from '../hooks';\nimport { InviteMemberDialog } from '../components/InviteMemberDialog';\nimport { ChangeMemberRoleDialog } from '../components/ChangeMemberRoleDialog';\nimport { PendingInvitations } from '../components/PendingInvitations';\nimport type { TenantMember } from '../types';\n\nexport function TeamPage() {\n  const { t } = useTranslation('team');\n  const { hasPermission } = usePermissions();\n\n  // Table state\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\n\n  // Dialog state\n  const [inviteOpen, setInviteOpen] = useState(false);\n  const [roleDialogMember, setRoleDialogMember] = useState<TenantMember | null>(null);\n  const [removeTarget, setRemoveTarget] = useState<TenantMember | null>(null);\n  const [bulkRemoveOpen, setBulkRemoveOpen] = useState(false);\n\n  // Data\n  const queryParams = useMemo(() => ({\n    page,\n    pageSize,\n    search: search || undefined,\n  }), [page, pageSize, search]);\n\n  const { data, isLoading, refetch } = useTeamMembers(queryParams);\n  const removeMember = useRemoveMember();\n\n  const handleRemoveMember = async () => {\n    if (!removeTarget) return;\n    await removeMember.mutateAsync(removeTarget.userId);\n    setRemoveTarget(null);\n  };\n\n  const handleBulkRemove = async () => {\n    const members = data?.items ?? [];\n    const selected = members.filter((m) => selectedIds.includes(m.id));\n    await Promise.all(selected.map((m) => removeMember.mutateAsync(m.userId)));\n    setSelectedIds([]);\n    setBulkRemoveOpen(false);\n  };\n\n  const columns: Column<TenantMember>[] = [\n    {\n      key: 'name',\n      header: t('members.name'),\n      cell: (row) => (\n        <div className=\"flex items-center gap-3\">\n          <Avatar className=\"h-8 w-8\">\n            {row.avatarUrl && <AvatarImage src={row.avatarUrl} alt={row.fullName} />}\n            <AvatarFallback className=\"text-xs\">\n              {row.firstName?.[0] ?? ''}{row.lastName?.[0] ?? ''}\n            </AvatarFallback>\n          </Avatar>\n          <div className=\"min-w-0\">\n            <p className=\"font-medium truncate\">{row.fullName}</p>\n            <p className=\"text-xs text-muted-foreground truncate\">{row.email}</p>\n          </div>\n        </div>\n      ),\n    },\n    {\n      key: 'roles',\n      header: t('members.roles'),\n      cell: (row) => {\n        // Filter out the \"Owner\" role when isOwner is true to avoid duplicate badge\n        const displayRoles = row.isOwner\n          ? row.roles.filter((role) => role.name !== 'Owner')\n          : row.roles;\n\n        return (\n          <div className=\"flex flex-wrap gap-1\">\n            {row.isOwner && (\n              <Badge variant=\"default\">{t('members.owner')}</Badge>\n            )}\n            {displayRoles.map((role) => (\n              <Badge key={role.id} variant=\"secondary\">\n                {role.name}\n              </Badge>\n            ))}\n            {!row.isOwner && displayRoles.length === 0 && (\n              <span className=\"text-xs text-muted-foreground\">{t('members.noRoles')}</span>\n            )}\n          </div>\n        );\n      },\n    },\n    {\n      key: 'joinedAt',\n      header: t('members.joinedAt'),\n      cell: (row) => new Date(row.joinedAt).toLocaleDateString(),\n    },\n    {\n      key: 'actions',\n      header: t('members.actions'),\n      className: 'w-[70px]',\n      cell: (row) => (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            {hasPermission('members.manage') && (\n              <DropdownMenuItem onClick={() => setRoleDialogMember(row)}>\n                <Shield className=\"me-2 h-4 w-4\" />\n                {t('members.changeRole')}\n              </DropdownMenuItem>\n            )}\n            {!row.isOwner && hasPermission('members.remove') && (\n              <>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem\n                  className=\"text-destructive\"\n                  onClick={() => setRemoveTarget(row)}\n                >\n                  <Trash2 className=\"me-2 h-4 w-4\" />\n                  {t('members.removeMember')}\n                </DropdownMenuItem>\n              </>\n            )}\n          </DropdownMenuContent>\n        </DropdownMenu>\n      ),\n    },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold tracking-tight\">{t('title')}</h1>\n        <p className=\"text-muted-foreground\">{t('description')}</p>\n      </div>\n\n      <Tabs defaultValue=\"members\">\n        <TabsList>\n          <TabsTrigger value=\"members\">\n            <Users className=\"me-2 h-4 w-4\" />\n            {t('tabs.members')}\n          </TabsTrigger>\n          <TabsTrigger value=\"invitations\">\n            <UserPlus className=\"me-2 h-4 w-4\" />\n            {t('tabs.invitations')}\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"members\">\n          <DataTableAdvanced\n            columns={columns}\n            data={data?.items ?? []}\n            isLoading={isLoading}\n            selectable\n            selectedIds={selectedIds}\n            onSelectionChange={setSelectedIds}\n            searchPlaceholder={t('members.searchPlaceholder')}\n            searchValue={search}\n            onSearchChange={(val) => {\n              setSearch(val);\n              setPage(1);\n            }}\n            page={page}\n            totalPages={data?.totalPages}\n            total={data?.totalCount}\n            pageSize={pageSize}\n            onPageChange={setPage}\n            onPageSizeChange={setPageSize}\n            onRefresh={() => refetch()}\n            emptyVariant=\"team\"\n            emptyTitle={t('empty.members.title')}\n            emptyDescription={t('empty.members.description')}\n            emptyAction={\n              <PermissionGate permission=\"members.invite\">\n                <Button onClick={() => setInviteOpen(true)}>\n                  <UserPlus className=\"me-2 h-4 w-4\" />\n                  {t('invite.title')}\n                </Button>\n              </PermissionGate>\n            }\n            actions={\n              <PermissionGate permission=\"members.invite\">\n                <Button onClick={() => setInviteOpen(true)}>\n                  <UserPlus className=\"me-2 h-4 w-4\" />\n                  {t('invite.title')}\n                </Button>\n              </PermissionGate>\n            }\n            bulkActions={\n              <PermissionGate permission=\"members.remove\">\n                <Button\n                  variant=\"destructive\"\n                  size=\"sm\"\n                  onClick={() => setBulkRemoveOpen(true)}\n                >\n                  <Trash2 className=\"me-2 h-4 w-4\" />\n                  {t('members.removeSelected')}\n                </Button>\n              </PermissionGate>\n            }\n          />\n        </TabsContent>\n\n        <TabsContent value=\"invitations\">\n          <PendingInvitations onInvite={() => setInviteOpen(true)} />\n        </TabsContent>\n      </Tabs>\n\n      {/* Dialogs */}\n      <InviteMemberDialog open={inviteOpen} onOpenChange={setInviteOpen} />\n\n      <ChangeMemberRoleDialog\n        open={!!roleDialogMember}\n        onOpenChange={(open) => !open && setRoleDialogMember(null)}\n        member={roleDialogMember}\n      />\n\n      {/* Remove Member Confirmation */}\n      <AlertDialog open={!!removeTarget} onOpenChange={() => setRemoveTarget(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('members.removeMember')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('members.confirmRemove')}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleRemoveMember}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('members.removeMember')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Bulk Remove Confirmation */}\n      <AlertDialog open={bulkRemoveOpen} onOpenChange={setBulkRemoveOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>{t('members.removeSelected')}</AlertDialogTitle>\n            <AlertDialogDescription>\n              {t('members.confirmRemoveMultiple', { count: selectedIds.length })}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>{t('common:cancel')}</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleBulkRemove}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {t('members.removeSelected')}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n"],"names":["createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext3","rootComponentName","defaultContext","BaseContext","React.createContext","index","Provider","props","scope","children","context","Context","_a","value","React.useMemo","jsx","useContext2","consumerName","React.useContext","createScope","scopeContexts","contexts","composeContextScopes","scopes","baseScope","scopeHooks","createScope2","overrideScopes","nextScopes","nextScopes2","useScope","currentScope","React","require$$0","is","x","y","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useIsHydrated","useSyncExternalStore","AVATAR_NAME","createAvatarContext","AvatarProvider","useAvatarContext","Avatar","React.forwardRef","forwardedRef","__scopeAvatar","avatarProps","imageLoadingStatus","setImageLoadingStatus","React.useState","Primitive","IMAGE_NAME","AvatarImage","src","onLoadingStatusChange","imageProps","useImageLoadingStatus","handleLoadingStatusChange","useCallbackRef","status","FALLBACK_NAME","AvatarFallback","delayMs","fallbackProps","canRender","setCanRender","React.useEffect","timerId","resolveLoadingStatus","image","referrerPolicy","crossOrigin","isHydrated","imageRef","React.useRef","loadingStatus","setLoadingStatus","updateStatus","handleLoad","handleError","Root","Image","Fallback","className","ref","AvatarPrimitive.Root","cn","AvatarPrimitive.Image","AvatarPrimitive.Fallback","tenantPath","path","getTenantId","listMembers","params","apiClient","removeMember","userId","listInvitations","inviteMember","data","revokeInvitation","invitationId","listRoles","assignRole","removeRole","roleId","MEMBERS_KEY","INVITATIONS_KEY","ROLES_KEY","useTeamMembers","useQuery","api.listMembers","useRemoveMember","queryClient","useQueryClient","useMutation","api.removeMember","useInviteMember","api.inviteMember","useInvitations","api.listInvitations","useRevokeInvitation","api.revokeInvitation","useRoles","api.listRoles","useAssignRole","api.assignRole","useRemoveRole","api.removeRole","InviteMemberDialog","open","onOpenChange","t","useTranslation","email","setEmail","setRoleId","rolesData","roles","handleSubmit","e","Dialog","DialogContent","jsxs","DialogHeader","DialogTitle","DialogDescription","Label","Input","Select","SelectTrigger","SelectValue","SelectContent","role","SelectItem","DialogFooter","Button","ChangeMemberRoleDialog","member","selectedRoleIds","setSelectedRoleIds","saving","setSaving","currentRoleIds","r","handleToggleRole","prev","next","handleSave","toAdd","id","toRemove","Checkbox","PendingInvitations","onInvite","page","setPage","pageSize","setPageSize","revokeTarget","setRevokeTarget","isLoading","refetch","handleRevoke","columns","row","Mail","Badge","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","DropdownMenuItem","Trash2","Fragment","DataTableAdvanced","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","TeamPage","hasPermission","usePermissions","search","setSearch","selectedIds","setSelectedIds","inviteOpen","setInviteOpen","roleDialogMember","setRoleDialogMember","removeTarget","setRemoveTarget","bulkRemoveOpen","setBulkRemoveOpen","queryParams","useMemo","handleRemoveMember","handleBulkRemove","selected","m","_b","displayRoles","Shield","DropdownMenuSeparator","Tabs","TabsList","TabsTrigger","Users","UserPlus","TabsContent","val","PermissionGate"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}