import{c as w,b as L,a as P,u as I,r as i,U as _,d as $,j as e,t as N,e as D,s as q}from"./index-Dh87D1Ms.js";import{C as A}from"./check-DVQOtCr5.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],U=w("building-2",H);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],k=w("sparkles",B);function R(){const{t:r}=L("onboarding"),z=P(),u=I(),[s,d]=i.useState("workspace"),[h,f]=i.useState(!1),[a,p]=i.useState({name:"",slug:"",industry:"",size:""}),[l,g]=i.useState({jobTitle:"",phone:""}),[x,S]=i.useState(""),c=[{id:"workspace",icon:U},{id:"profile",icon:_},{id:"team",icon:$},{id:"complete",icon:k}],n=c.findIndex(t=>t.id===s),C=async()=>{var t,o,b,j,v,y;if(s==="workspace"){if(!a.name){N.error(r("validation.required"));return}d("profile")}else if(s==="profile")d("team");else if(s==="team"){f(!0);try{const m=await D.post("/onboarding",{tenantName:a.name,tenantSlug:a.slug||a.name.toLowerCase().replace(/[^a-z0-9]+/g,"-"),displayName:((o=(t=u.user)==null?void 0:t.profile)==null?void 0:o.name)||`${((j=(b=u.user)==null?void 0:b.profile)==null?void 0:j.given_name)||""} ${((y=(v=u.user)==null?void 0:v.profile)==null?void 0:y.family_name)||""}`.trim(),jobTitle:l.jobTitle||void 0,phoneNumber:l.phone||void 0,teamSize:a.size||void 0,inviteEmails:x?x.split(/[,\n]/).map(E=>E.trim()).filter(Boolean):void 0});m.tenantId&&q(m.tenantId),d("complete")}catch(m){console.error("Onboarding error:",m),N.error("Failed to complete onboarding")}finally{f(!1)}}},M=()=>{z("/dashboard")},T=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary/10",children:e.jsxs("div",{className:"mx-auto max-w-2xl px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:r("title")}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:r("subtitle")})]}),e.jsx("div",{className:"flex justify-center mb-12",children:e.jsx("div",{className:"flex items-center gap-4",children:c.map((t,o)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full border-2 transition-colors ${o<n?"border-primary bg-primary text-primary-foreground":o===n?"border-primary text-primary":"border-muted text-muted-foreground"}`,children:o<n?e.jsx(A,{className:"h-5 w-5"}):e.jsx(t.icon,{className:"h-5 w-5"})}),o<c.length-1&&e.jsx("div",{className:`h-0.5 w-12 mx-2 ${o<n?"bg-primary":"bg-muted"}`})]},t.id))})}),e.jsxs("div",{className:"rounded-2xl bg-card border border-border p-8 shadow-lg",children:[s==="workspace"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:r("workspace.title")}),e.jsx("p",{className:"text-muted-foreground mt-1",children:r("workspace.subtitle")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:[r("workspace.name")," *"]}),e.jsx("input",{type:"text",value:a.name,onChange:t=>{p({...a,name:t.target.value,slug:T(t.target.value)})},placeholder:r("workspace.namePlaceholder"),className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r("workspace.nameHint")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:r("workspace.slug")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"workspace/"}),e.jsx("input",{type:"text",value:a.slug,onChange:t=>p({...a,slug:t.target.value}),placeholder:r("workspace.slugPlaceholder"),className:"flex-1 rounded-lg border border-input bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:r("workspace.size")}),e.jsxs("select",{value:a.size,onChange:t=>p({...a,size:t.target.value}),className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",children:[e.jsx("option",{value:"",children:r("workspace.sizePlaceholder")}),e.jsx("option",{value:"solo",children:r("teamSizes.solo")}),e.jsx("option",{value:"small",children:r("teamSizes.small")}),e.jsx("option",{value:"medium",children:r("teamSizes.medium")}),e.jsx("option",{value:"large",children:r("teamSizes.large")}),e.jsx("option",{value:"enterprise",children:r("teamSizes.enterprise")})]})]})]})]}),s==="profile"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:r("profile.title")}),e.jsx("p",{className:"text-muted-foreground mt-1",children:r("profile.subtitle")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:r("profile.jobTitle")}),e.jsx("input",{type:"text",value:l.jobTitle,onChange:t=>g({...l,jobTitle:t.target.value}),placeholder:r("profile.jobTitlePlaceholder"),className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:r("profile.phone")}),e.jsx("input",{type:"tel",value:l.phone,onChange:t=>g({...l,phone:t.target.value}),placeholder:r("profile.phonePlaceholder"),className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),s==="team"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:r("team.title")}),e.jsx("p",{className:"text-muted-foreground mt-1",children:r("team.subtitle")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:r("team.inviteEmails")}),e.jsx("textarea",{value:x,onChange:t=>S(t.target.value),placeholder:r("team.inviteEmailsPlaceholder"),rows:4,className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r("team.inviteEmailsHint")})]})]}),s==="complete"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:e.jsx(k,{className:"h-8 w-8 text-primary"})}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:r("complete.title")}),e.jsx("p",{className:"text-muted-foreground mt-2",children:r("complete.subtitle")})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-border",children:[s!=="complete"&&s!=="workspace"&&e.jsx("button",{onClick:()=>{const t=c[n-1];t&&d(t.id)},className:"px-6 py-2 text-muted-foreground hover:text-foreground transition-colors",children:r("back",{ns:"common"})}),s==="workspace"&&e.jsx("div",{}),s!=="complete"?e.jsx("button",{onClick:C,disabled:h,className:"rounded-lg bg-primary px-6 py-2 font-medium text-primary-foreground hover:bg-primary/90 disabled:opacity-50 transition-colors",children:s==="team"?h?"...":r("finish",{ns:"common"}):r("next",{ns:"common"})}):e.jsx("button",{onClick:M,className:"w-full rounded-lg bg-primary px-6 py-3 font-medium text-primary-foreground hover:bg-primary/90 transition-colors",children:r("complete.goToDashboard")})]})]})]})})}export{R as OnboardingPage};
//# sourceMappingURL=OnboardingPage-B8na6FeB.js.map
